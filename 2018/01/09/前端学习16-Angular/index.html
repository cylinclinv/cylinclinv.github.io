

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=&#34;auto&#34;>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png">
  <link rel="icon" href="/img/logo.ico">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="">
  <meta name="author" content="clyde">
  <meta name="keywords" content="">
  
  <title>前端学习16-Angular - Clyde</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10.7.2/styles/github-gist.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
  



<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.8.11","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null}},"search_path":"/local-search.xml"};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 5.4.0"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>Clyde</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" data-toggle="modal" data-target="#modalSearch">&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;</a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('/img/cover/131.jpg') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="前端学习16-Angular">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2018-01-09 22:13" pubdate>
        2018年1月9日 晚上
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      16.9k 字
    </span>
  

  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      230
       分钟
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">前端学习16-Angular</h1>
            
            <div class="markdown-body">
              <h2 id="Angular-是什么"><a href="#Angular-是什么" class="headerlink" title="Angular 是什么"></a>Angular 是什么</h2><p>Angular（读音[‘æŋgjʊlə]）是一套用于构建用户界面的 JavaScript 框架。由 Google 开发和维护，主要被用来开发单页面应用程序。</p>
<ul>
<li>类似于 <a target="_blank" rel="noopener" href="https://cn.vuejs.org/">Vue.js</a><ul>
<li>MVVM（数据驱动视图思想）</li>
<li>组件化</li>
<li>模块化</li>
<li>指令</li>
<li>……</li>
</ul>
</li>
<li>由 Google 开发和维护</li>
<li>开发单页面应用程序（SPA） </li>
</ul>
<h2 id="特性"><a href="#特性" class="headerlink" title="特性"></a>特性</h2><ul>
<li>MVVM</li>
<li>组件化</li>
<li>模块化</li>
<li>指令</li>
<li>服务</li>
<li>依赖注入</li>
<li>TypeScript</li>
<li>…</li>
</ul>
<h2 id="发展历史"><a href="#发展历史" class="headerlink" title="发展历史"></a>发展历史</h2><h3 id="起源"><a href="#起源" class="headerlink" title="起源"></a>起源</h3><p>2009年，Misko hevery 和 Adam abrons 在业余时间打造了 <code>GetAngular</code></p>
<p>Misko Hevery 接手了 Google 内部的一个项目 <code>Feedback</code> ，该项目经过6个月的迭代代码量已经达到了17000行。项目的开发和维护已经变得非常的困难。所有 Misko 就决定用 <code>GetAngular</code> 重写这个项目。</p>
<p>结果就是小伙子成功了，使用 ``GetAngular` 之后该项目从17000行缩减到了1500行，前后仅仅使用了三周时间。</p>
<p>Misko 领导一看，小伙子厉害啊，同时也看到了 <code>GetAngular</code> 所带来的商业价值，所以决定把  <code>GetAngular</code> 正式立项，组织专职团队开发和维护。</p>
<p>Abrons 后来离开了这个计划，但在 Google 工作的 Hevery 和一些谷歌员工如 Igor Minár 和 Vojta Jína 等则继续开发维护此库。</p>
<p>由于已不再是个人项目，所以开发团队将 <code>GetAngular</code> 重新命名为了 <code>AngularJS</code> 。</p>
<p>至此，AngularJS 就进入了漫长的发展迭代阶段。</p>
<ul>
<li>经过了3年的发展，AngularJS 在2012年6月份，<code>1.0.0</code> 版本正式推出。</li>
<li>AngularJS 在1.2之后的版本不再支持 IE 6和7</li>
<li>AngularJS 在 1.3 之后不再支持 IE8</li>
<li>AngularJS 在 1.5 增加了类似组件化的开发方式<ul>
<li>为过渡到 Angular2 做铺垫</li>
</ul>
</li>
<li>AngularJS <code>1.x.x</code> 当前已发布到了 <code>1.6.x</code></li>
</ul>
<h3 id="困境"><a href="#困境" class="headerlink" title="困境"></a>困境</h3><ul>
<li>饱受诟病的性能问题<ul>
<li>脏检查</li>
</ul>
</li>
<li>落后于当前 Web 发展理念<ul>
<li>例如组件化</li>
<li>模块化支持不好</li>
</ul>
</li>
<li>对移动端支持不够友好</li>
</ul>
<h3 id="Angular-2-横空出世"><a href="#Angular-2-横空出世" class="headerlink" title="Angular 2 横空出世"></a>Angular 2 横空出世</h3><p>Angular 1.x 由于问题太多，历史包袱太重，重构几乎不可能。</p>
<p>不过早在2014年3月，官方博客就有提及开发新版本 Angular 的计划。</p>
<p>2014年9月下旬一个大会上，<code>Angular2</code> 正式亮相。</p>
<p>2016年9月15号，<code>Angular2</code> 正式发布。</p>
<p>由于 ng2 几乎完全重写了 ng1 ，所以官方把2之后的版本都称之为 Angular。</p>
<p>新版本发布了，但ng2不向下兼容</p>
<h3 id="ng2-相比-ng1"><a href="#ng2-相比-ng1" class="headerlink" title="ng2 相比 ng1"></a>ng2 相比 ng1</h3><ul>
<li>移除了 controller+$scope 的设计方式，改用了当前主流的组件化构建</li>
<li>相比 ng1 性能更好</li>
<li>优先为移动端设计</li>
<li>更贴合未来标准<ul>
<li>EcmaScript 6</li>
<li>Web Component</li>
</ul>
</li>
<li>TypeScript</li>
<li>反正就是更现代化，更好了……</li>
</ul>
<h3 id="现状"><a href="#现状" class="headerlink" title="现状"></a>现状</h3><ul>
<li>自 Angular 2 之后，官方承诺之后的版本都会兼容到 Angular 2</li>
<li>当前 Angular 最新发布版为 <code>5.x.x</code></li>
<li>新版的 Angular 在 Github 上也已收获了 3万+ ☆</li>
<li>使用量低于 React 和 Vue</li>
</ul>
<h2 id="那我为什么要学习使用-Angular-？"><a href="#那我为什么要学习使用-Angular-？" class="headerlink" title="那我为什么要学习使用 Angular ？"></a>那我为什么要学习使用 Angular ？</h2><p>任何一种技术或者框架，一定要有自己的特色，如果跟别人的完全一样，解决的问题也和别人一样，那存在的意义和价值就会遭到质疑。</p>
<ul>
<li>企业需求</li>
<li>增加职业竞争力</li>
<li>技术的本质思想都是一样的，也许你在其它技术中无法理解的事物，在这门课程中你能找到答案。</li>
</ul>
<p>这里我们要明白技术只是工具，主要目的还是用来帮助我们解决业务问题。<br>作为开发人员，我们对待技术的态度应该博学开放，多学习和了解不同技术。<br>只有当你见得东西多了才能有自己的想法，才不会人云亦云，不至于迷失在技术更新迭代的浪潮之中！</p>
<h2 id="学习-Angular-的一些建议"><a href="#学习-Angular-的一些建议" class="headerlink" title="学习 Angular 的一些建议"></a>学习 Angular 的一些建议</h2><ul>
<li>读官方文档</li>
<li>写 demo 测试</li>
<li>写小项目练手</li>
<li>参与实际项目开发经验</li>
<li>日积月累……</li>
</ul>
<h2 id="相关链接"><a href="#相关链接" class="headerlink" title="相关链接"></a>相关链接</h2><ul>
<li><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/Angular">维基百科 - Angular</a></li>
<li><a target="_blank" rel="noopener" href="https://angularjs.org/">AngularJS 1.x.x 官网</a></li>
<li><a target="_blank" rel="noopener" href="https://angular.io/">Angular 官网</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/angular/angular">Angular Github</a></li>
<li><a target="_blank" rel="noopener" href="https://angular.io/docs">Angular 官方文档</a></li>
<li><a target="_blank" rel="noopener" href="https://angular.io/tutorial">Angular 官方教程</a></li>
<li><a target="_blank" rel="noopener" href="https://angular.io/api">Angular APi文档</a></li>
</ul>
<h1 id="起步"><a href="#起步" class="headerlink" title="起步"></a>起步</h1><blockquote>
<p>内容纲要</p>
<ul>
<li>安装 Angular CLI 开发工具</li>
<li>使用 Angular CLI 初始化 Angular 项目</li>
<li>简单体验 Angular</li>
</ul>
</blockquote>
<p><img src="http://www.qykh2009.com/upload/editor/1430983078905.jpg" srcset="/img/loading.gif" lazyload alt="起步"></p>
<p>目前，无论你使用什么前端框架，都必然要使用到各种 NodeJS 工具，Angular 也不例外。与其它框架不同，Angular 从一开始就走的“全家桶”式的设计思路，因此 @angular/cli 这款工具里面集成了日常开发需要使用的所有 Node 模块，使用 @angular/cli 可以大幅度降低搭建开发环境的难度。</p>
<p>Angular CLI 类似于 Vue CLI，是 Angular 官方开发的一个脚手架工具，专门用来开发构建 Angular 应用程序。</p>
<ul>
<li>Angular 应用程序初始化</li>
<li>内置开发服务器</li>
<li>代码变更浏览器自动刷新</li>
<li>创建组件、指令、服务等集成工具</li>
<li>测试和维护</li>
<li>……</li>
</ul>
<h2 id="Step-0-安装依赖环境"><a href="#Step-0-安装依赖环境" class="headerlink" title="Step 0. 安装依赖环境"></a>Step 0. 安装依赖环境</h2><h3 id="安装-Node-js"><a href="#安装-Node-js" class="headerlink" title="安装 Node.js"></a>安装 Node.js</h3><ul>
<li>下载地址：<a target="_blank" rel="noopener" href="https://nodejs.org/en/download/">https://nodejs.org/en/download/</a></li>
<li>安装</li>
<li>确认 Node.js 环境</li>
</ul>
<h3 id="安装-npm"><a href="#安装-npm" class="headerlink" title="安装 npm"></a>安装 npm</h3><ul>
<li>npm 会随着 Node 的安装被一起安装</li>
<li>确认 npm 环境</li>
</ul>
<h3 id="安装-Python"><a href="#安装-Python" class="headerlink" title="安装 Python"></a>安装 Python</h3><ul>
<li>下载地址：<a target="_blank" rel="noopener" href="https://www.python.org/downloads/release/python-2714/">https://www.python.org/downloads/release/python-2714/</a></li>
<li>Windows 32 位：<a target="_blank" rel="noopener" href="https://www.python.org/ftp/python/2.7.14/python-2.7.14.msi">https://www.python.org/ftp/python/2.7.14/python-2.7.14.msi</a></li>
<li>Windows 64位：<a target="_blank" rel="noopener" href="https://www.python.org/ftp/python/2.7.14/python-2.7.14.amd64.msi">https://www.python.org/ftp/python/2.7.14/python-2.7.14.amd64.msi</a></li>
<li>确认 Python 环境</li>
</ul>
<h3 id="安装-C-编译工具"><a href="#安装-C-编译工具" class="headerlink" title="安装 C++ 编译工具"></a>安装 C++ 编译工具</h3><p><code>Angular CLi</code> 在 Windows 上同时依赖 C++ 编译工具，所以我们这里也需要单独安装。</p>
<p>当然如果你的机器安装了 Visual Studio（注意，不是 Visual Studio Code）。</p>
<p>执行下面的命名安装 C++ 编译工具：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">npm install --global --production windows-build-tools<br></code></pre></td></tr></table></figure>

<blockquote>
<p>💡注意： Windows Vista / 7 依赖  <a target="_blank" rel="noopener" href="http://www.microsoft.com/en-us/download/details.aspx?id=40773">.NET Framework 4.5.1</a> </p>
</blockquote>
<p><img src="https://cloud.githubusercontent.com/assets/1426799/15993939/2bbb470a-30aa-11e6-9cde-94c39b3f35cb.gif" srcset="/img/loading.gif" lazyload alt="Gif"></p>
<h3 id="安装-cnpm"><a href="#安装-cnpm" class="headerlink" title="安装 cnpm"></a>安装 <code>cnpm</code></h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">npm i -g cnpm --registry=https://registry.npm.taobao.org<br></code></pre></td></tr></table></figure>



<h2 id="Step1-安装脚手架工具-Angular-CLI"><a href="#Step1-安装脚手架工具-Angular-CLI" class="headerlink" title="Step1. 安装脚手架工具 Angular CLI"></a>Step1. 安装脚手架工具 <code>Angular CLI</code></h2><p><a target="_blank" rel="noopener" href="https://cli.angular.io/">Angular CLI</a> 是 Angular 官方开发的一个类似于 <code>Vue CLI</code> 的脚手架开发工具，它帮我们集成了 webpack 打包、开发服务器、单元测试、自动编译、部署等功能特性。</p>
<p>使用它的第一步就是先安装：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">cnpm i -g @angular/cli<br></code></pre></td></tr></table></figure>

<p>安装结束之后我们可以通过在命令行输入以下命令测试是否安装成功：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">ng --version<br></code></pre></td></tr></table></figure>

<figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs gherkin">    _                      _                 ____ _     ___<br>   / \   _ __   __ _ _   _|<span class="hljs-string"> </span>|<span class="hljs-string"> __ _ _ __     / ___</span>|<span class="hljs-string"> </span>|<span class="hljs-string">   </span>|<span class="hljs-string">_ _</span>|<br>  / △ \ |<span class="hljs-string"> &#x27;_ \ / _` </span>|<span class="hljs-string"> </span>|<span class="hljs-string"> </span>|<span class="hljs-string"> </span>|<span class="hljs-string"> </span>|<span class="hljs-string">/ _` </span>|<span class="hljs-string"> &#x27;__</span>|<span class="hljs-string">   </span>|<span class="hljs-string"> </span>|<span class="hljs-string">   </span>|<span class="hljs-string"> </span>|<span class="hljs-string">    </span>|<span class="hljs-string"> </span>|<br> / ___ \|<span class="hljs-string"> </span>|<span class="hljs-string"> </span>|<span class="hljs-string"> </span>|<span class="hljs-string"> (_</span>|<span class="hljs-string"> </span>|<span class="hljs-string"> </span>|<span class="hljs-string">_</span>|<span class="hljs-string"> </span>|<span class="hljs-string"> </span>|<span class="hljs-string"> (_</span>|<span class="hljs-string"> </span>|<span class="hljs-string"> </span>|<span class="hljs-string">      </span>|<span class="hljs-string"> </span>|<span class="hljs-string">___</span>|<span class="hljs-string"> </span>|<span class="hljs-string">___ </span>|<span class="hljs-string"> </span>|<br>/_/   \_\_|<span class="hljs-string"> </span>|<span class="hljs-string">_</span>|<span class="hljs-string">\__, </span>|<span class="hljs-string">\__,_</span>|<span class="hljs-string">_</span>|<span class="hljs-string">\__,_</span>|<span class="hljs-string">_</span>|<span class="hljs-string">       \____</span>|<span class="hljs-string">_____</span>|<span class="hljs-string">___</span>|<br>               |<span class="hljs-string">___/</span><br><span class="hljs-string"></span><br><span class="hljs-string">Angular CLI: 1.6.3</span><br><span class="hljs-string">Node: 8.9.4</span><br><span class="hljs-string">OS: win32 x64</span><br><span class="hljs-string">Angular:</span><br><span class="hljs-string">...</span><br></code></pre></td></tr></table></figure>



<h3 id="安装失败解决方案"><a href="#安装失败解决方案" class="headerlink" title="安装失败解决方案"></a>安装失败解决方案</h3><ul>
<li>在 Windows 平台上安装 @angular/cli 会报很多 error，那是因为 @angular/cli 在 Windows 平台上面依赖 Python 和 Visual Studio 环境，而很多开发者的机器上并没有安装这些东西</li>
<li>以及 node-sass 模块被墙的问题，强烈推荐使用 cnpm 进行安装，可以非常有效地避免撞墙</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">npm i -g cnpm --registry=https://registry.npm.taobao.org<br><br>cnpm i -g @angular/cli<br></code></pre></td></tr></table></figure>

<ul>
<li>如果安装失败，请手动把全局的 <code>@angular/cli</code> 删掉： <code>cnpm uninstall -g @angular/cli</code></li>
<li>如果 <code>node_modules</code> 删不掉，爆出路径过长之类的错误，请尝试用一些文件粉碎机之类的工具强行删除。</li>
<li>无论你用什么开发环境，安装的过程中请仔细看错误日志。很多同学没有看错误日志的习惯，报错的时候直接懵掉，根本不知道发生了什么。</li>
</ul>
<h2 id="Setp-2-使用脚手架工具初始化项目"><a href="#Setp-2-使用脚手架工具初始化项目" class="headerlink" title="Setp 2. 使用脚手架工具初始化项目"></a>Setp 2. 使用脚手架工具初始化项目</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">ng new my-app<br></code></pre></td></tr></table></figure>

<p><code>Angular CLI</code> 将会自动帮你把目录结构创建好，并且会自动生成一些目录文件，就像这样：</p>
<p><img src="/img/webimg/angular/1515415495089.png" srcset="/img/loading.gif" lazyload alt="1515415495089"></p>
<p><strong>请特别注意：</strong><code>Angular CLI</code> 在自动生成好项目骨架之后，会立即自动使用 npm 来安装所依赖的 Node 模块，所以这里你懂的，一道墙又会阻止我们通往自由的道路，所以这里如果初始化很慢或者失败，请自己手动 <code>Ctrl + C</code> 终止掉，然后进入初始化好的项目根目录使用 <code>cnpm</code> 来安装。</p>
<p><img src="/img/webimg/angular/1515415785055.png" srcset="/img/loading.gif" lazyload alt="1515415785055"></p>
<h2 id="Step-3-Serve-the-application"><a href="#Step-3-Serve-the-application" class="headerlink" title="Step 3. Serve the application"></a>Step 3. Serve the application</h2><p>使用脚手架工具初始化项目完成之后，我们就可以启动开发模式了：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> 或者 npm start</span><br>ng serve<br></code></pre></td></tr></table></figure>

<p><strong>注意：</strong></p>
<ol>
<li>在项目根目录下执行</li>
<li>看好是 <code>serve </code> 不是 server</li>
<li>该命令默认会开启一个服务占用 4200 端口，如果想要修改可以通过 <code>--port</code> 参数来指定，例如 <code>ng serve --port 3000</code></li>
</ol>
<p><img src="/img/webimg/angular/1515415982150.png" srcset="/img/loading.gif" lazyload alt="1515415982150"></p>
<p>接下来我们打开浏览器，访问：<a target="_blank" rel="noopener" href="http://localhost:4200/">http://localhost:4200/</a> 。成功即可在浏览器中看到如下页面：</p>
<p><img src="/img/webimg/angular/1515416151290.png" srcset="/img/loading.gif" lazyload alt="1515416151290"></p>
<h2 id="Step-4-体验一下-Angular"><a href="#Step-4-体验一下-Angular" class="headerlink" title="Step 4. 体验一下 Angular"></a>Step 4. 体验一下 Angular</h2><p>找到 <code>./src/app/app.component.ts</code> 文件，将 <code>AppComponent</code> 组件类中的 <code>title</code> 修改如下（记得保存哦）：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AppComponent</span> </span>&#123;  title = <span class="hljs-string">&#x27;你的第一个 Angular 应用&#x27;</span>;&#125;<br></code></pre></td></tr></table></figure>

<p>你会发现浏览器随之刷新：</p>
<p><img src="/img/webimg/angular/1515416665906.png" srcset="/img/loading.gif" lazyload alt="1515416665906"></p>
<p>标题样式太丑了，来让我们打开 <code>src/app/app.component.css</code> 文件并写入以下内容：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">h1</span> &#123;  <span class="hljs-attribute">color</span>: <span class="hljs-number">#369</span>;  <span class="hljs-attribute">font-family</span>: Arial, Helvetica, sans-serif;  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">250%</span>;&#125;<br></code></pre></td></tr></table></figure>

<p>现在浏览器随之刷新变为了这样：</p>
<p><img src="/img/webimg/angular/1515416751514.png" srcset="/img/loading.gif" lazyload alt="1515416751514"></p>
<p>是不是很酷！</p>
<h2 id="一些常见的坑"><a href="#一些常见的坑" class="headerlink" title="一些常见的坑"></a>一些常见的坑</h2><p>@angular/cli 这种“全家桶”式的设计带来了很大的方便，同时也有一些人不太喜欢，因为很多底层的东西被屏蔽掉了，开发者不能天马行空地自由发挥。比如：@angular/cli 把底层 webpack 的配置文件屏蔽掉了，很多喜欢自己手动配 webpack 的开发者就感到很不爽。</p>
<p>对于国内的开发者来说，上面这些其实不是最重要的，国内开发者碰到的坑主要是由两点引起的：</p>
<ol>
<li>第一点是网络问题：比如 <code>node-sass</code> 这个模块你很有可能就装不上，原因你懂的。</li>
<li>第二点是开发环境导致的问题：国内使用 Windows 平台的开发者比例依然巨大，而 @angular/cli 在 Windows 平台上有一些非常恶心的依赖，比如它需要依赖 python 环境、Visual Studio 环境。</li>
</ol>
<p>所以，如果你的开发平台是 Windows，请特别注意：</p>
<ol>
<li>如果你知道如何给 npm 配置代理，也知道如何翻墙，请首选 npm 来安装 @angular/cli。</li>
<li>否则，请使用 cnpm 来安装 @angular/cli，原因有三：1、cnpm 的缓存服务器在国内，你装东西的速度会快很多；2、用 cnpm 可以帮你避开某些模块装不上的问题，因为它在服务器上面做了缓存；3、cnpm 还把一些包都预编译好了缓存在服务端，不需要把源码下载到你本地去编译，所以你的机器上可以没有那一大堆麻烦的环境。</li>
<li>如果安装失败，请手动把 node_modules 目录删掉重试一遍，全局的 @angular/cli 也需要删掉重装，cnpm uninstall -g @angular/cli。</li>
<li>如果 node_modules 删不掉，爆出路径过长之类的错误，请尝试用一些文件粉碎机之类的工具强行删除。</li>
<li>无论你用什么开发环境，安装的过程中请仔细看 log。很多朋友没有看 log 的习惯，报错的时候直接懵掉，根本不知道发生了什么。</li>
</ol>
<h2 id="关于编辑器的选择"><a href="#关于编辑器的选择" class="headerlink" title="关于编辑器的选择"></a>关于编辑器的选择</h2><p>如你所知，一直以来，前端开发领域并没有一款特别好用的开发和调试工具。</p>
<ul>
<li>WebStorm 很强大，但是吃资源很严重。</li>
<li>Sublime Text 插件很多，可惜要收费，而国内的企业还没有养成花钱购买开发工具的习惯。</li>
<li>Chrome 的开发者工具很好用，但是要直接调试 TypeScript 很麻烦。</li>
</ul>
<p>所以，Visual Studio Code（简称 VS Code）才会呈现出爆炸性增长的趋势。它是微软开发的一款编辑器，完全<a target="_blank" rel="noopener" href="https://github.com/Microsoft/vscode">开源免费</a>。VS Code 底层是 Electron，界面本身是用 TypeScript 开发的。对于 Angular 开发者来说，当然要强烈推荐 VS Code。最值得一提的是，从1.14开始，可以直接在 VS Code 里面调试 TypeScript 代码。</p>
<h1 id="Angular启动"><a href="#Angular启动" class="headerlink" title="Angular启动"></a>Angular启动</h1><blockquote>
<p>内容纲要</p>
<ul>
<li>项目结构介绍</li>
<li>了解一个 Angular 应用是如何启动的</li>
</ul>
</blockquote>
<p><img src="/img/webimg/angular/ng%E5%90%AF%E5%8A%A8%E8%BF%87%E7%A8%8B.png" srcset="/img/loading.gif" lazyload alt="ng启动过程.png"></p>
<h2 id="目录结构"><a href="#目录结构" class="headerlink" title="目录结构"></a>目录结构</h2><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs stylus">.<br>├── e2e 端到端测试（暂且不关心）<br>├── node_modules npm安装的第三方包<br>├── <span class="hljs-attribute">src</span> 存放业务源码<br>├── <span class="hljs-selector-class">.angular-cli</span><span class="hljs-selector-class">.json</span> AngularCLI脚手架工具配置文件<br>├── <span class="hljs-selector-class">.editorconfig</span> 针对编辑器的代码风格约束<br>├── <span class="hljs-selector-class">.gitignore</span> Git仓库忽略配置项<br>├── karma<span class="hljs-selector-class">.conf</span><span class="hljs-selector-class">.js</span> 测试配置文件（给karma用的，暂且不用关心）<br>├── package<span class="hljs-selector-class">.json</span> 项目包说明文件<br>├── protractor<span class="hljs-selector-class">.conf</span><span class="hljs-selector-class">.js</span> 端到端测试配置文件（暂且不用关心）<br>├── README<span class="hljs-selector-class">.md</span> 项目说明文件<br>├── tsconfig<span class="hljs-selector-class">.json</span> TypeScript配置文件<br>└── tslint<span class="hljs-selector-class">.json</span> TypeScript代码风格校验工具配置文件（类似于 eslint）<br></code></pre></td></tr></table></figure>



<h2 id="npm-scripts-介绍"><a href="#npm-scripts-介绍" class="headerlink" title="npm scripts 介绍"></a><code>npm scripts</code> 介绍</h2><figure class="highlight erlang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs erlang">...<br><span class="hljs-string">&quot;scripts&quot;</span>: &#123;<br>    <span class="hljs-string">&quot;ng&quot;</span>: <span class="hljs-string">&quot;ng&quot;</span>, 运行查看 Angular CLI 脚手架工具使用帮助<br>    <span class="hljs-string">&quot;start&quot;</span>: <span class="hljs-string">&quot;ng serve&quot;</span>, 运行开发模式<br>    <span class="hljs-string">&quot;build&quot;</span>: <span class="hljs-string">&quot;ng build --prod&quot;</span>, 运行项目打包构建（用于发布到生成环境）<br>    <span class="hljs-string">&quot;test&quot;</span>: <span class="hljs-string">&quot;ng test&quot;</span>, 运行karma单元测试<br>    <span class="hljs-string">&quot;lint&quot;</span>: <span class="hljs-string">&quot;ng lint&quot;</span>, 运行TypeScript代码校验<br>    <span class="hljs-string">&quot;e2e&quot;</span>: <span class="hljs-string">&quot;ng e2e&quot;</span> 运行protractor端到端测试<br>  &#125;,<br>...<br></code></pre></td></tr></table></figure>



<h2 id="angular-cli-json-文件"><a href="#angular-cli-json-文件" class="headerlink" title=".angular-cli.json 文件"></a><code>.angular-cli.json</code> 文件</h2><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><code class="hljs json">&#123;<br>  <span class="hljs-attr">&quot;$schema&quot;</span>: <span class="hljs-string">&quot;./node_modules/@angular/cli/lib/config/schema.json&quot;</span>,<br>  <span class="hljs-attr">&quot;project&quot;</span>: &#123;<br>    <span class="hljs-attr">&quot;name&quot;</span>: <span class="hljs-string">&quot;my-app&quot;</span><br>  &#125;,<br>  <span class="hljs-attr">&quot;apps&quot;</span>: [<br>    &#123;<br>      <span class="hljs-attr">&quot;root&quot;</span>: <span class="hljs-string">&quot;src&quot;</span>, 源码根目录<br>      <span class="hljs-attr">&quot;outDir&quot;</span>: <span class="hljs-string">&quot;dist&quot;</span>, 打包编译结果目录<br>      <span class="hljs-attr">&quot;assets&quot;</span>: [ 存放静态资源目录<br>        <span class="hljs-string">&quot;assets&quot;</span>,<br>        <span class="hljs-string">&quot;favicon.ico&quot;</span><br>      ],<br>      <span class="hljs-attr">&quot;index&quot;</span>: <span class="hljs-string">&quot;index.html&quot;</span>, 单页面<br>      <span class="hljs-attr">&quot;main&quot;</span>: <span class="hljs-string">&quot;main.ts&quot;</span>, 模块启动入口<br>      <span class="hljs-attr">&quot;polyfills&quot;</span>: <span class="hljs-string">&quot;polyfills.ts&quot;</span>, 用以兼容低版本浏览器不支持的 JavaScript 语法特性<br>      <span class="hljs-attr">&quot;test&quot;</span>: <span class="hljs-string">&quot;test.ts&quot;</span>, 测试脚本<br>      <span class="hljs-attr">&quot;tsconfig&quot;</span>: <span class="hljs-string">&quot;tsconfig.app.json&quot;</span>,<br>      <span class="hljs-attr">&quot;testTsconfig&quot;</span>: <span class="hljs-string">&quot;tsconfig.spec.json&quot;</span>,<br>      <span class="hljs-attr">&quot;prefix&quot;</span>: <span class="hljs-string">&quot;app&quot;</span>, 使用脚手架工具创建组件的自动命名前缀<br>      <span class="hljs-attr">&quot;styles&quot;</span>: [ 全局样式文件<br>        <span class="hljs-string">&quot;styles.css&quot;</span><br>      ],<br>      <span class="hljs-attr">&quot;scripts&quot;</span>: [], 全局脚本文件<br>      <span class="hljs-attr">&quot;environmentSource&quot;</span>: <span class="hljs-string">&quot;environments/environment.ts&quot;</span>,<br>      <span class="hljs-attr">&quot;environments&quot;</span>: &#123;<br>        <span class="hljs-attr">&quot;dev&quot;</span>: <span class="hljs-string">&quot;environments/environment.ts&quot;</span>,<br>        <span class="hljs-attr">&quot;prod&quot;</span>: <span class="hljs-string">&quot;environments/environment.prod.ts&quot;</span><br>      &#125;<br>    &#125;<br>  ],<br>  <span class="hljs-attr">&quot;e2e&quot;</span>: &#123; 端到端测试相关配置<br>    <span class="hljs-attr">&quot;protractor&quot;</span>: &#123;<br>      <span class="hljs-attr">&quot;config&quot;</span>: <span class="hljs-string">&quot;./protractor.conf.js&quot;</span><br>    &#125;<br>  &#125;,<br>  <span class="hljs-attr">&quot;lint&quot;</span>: [ TypeScript代码风格校验相关配置<br>    &#123;<br>      <span class="hljs-attr">&quot;project&quot;</span>: <span class="hljs-string">&quot;src/tsconfig.app.json&quot;</span>,<br>      <span class="hljs-attr">&quot;exclude&quot;</span>: <span class="hljs-string">&quot;**/node_modules/**&quot;</span><br>    &#125;,<br>    &#123;<br>      <span class="hljs-attr">&quot;project&quot;</span>: <span class="hljs-string">&quot;src/tsconfig.spec.json&quot;</span>,<br>      <span class="hljs-attr">&quot;exclude&quot;</span>: <span class="hljs-string">&quot;**/node_modules/**&quot;</span><br>    &#125;,<br>    &#123;<br>      <span class="hljs-attr">&quot;project&quot;</span>: <span class="hljs-string">&quot;e2e/tsconfig.e2e.json&quot;</span>,<br>      <span class="hljs-attr">&quot;exclude&quot;</span>: <span class="hljs-string">&quot;**/node_modules/**&quot;</span><br>    &#125;<br>  ],<br>  <span class="hljs-attr">&quot;test&quot;</span>: &#123; karma单元测试相关配置<br>    <span class="hljs-attr">&quot;karma&quot;</span>: &#123;<br>      <span class="hljs-attr">&quot;config&quot;</span>: <span class="hljs-string">&quot;./karma.conf.js&quot;</span><br>    &#125;<br>  &#125;,<br>  <span class="hljs-attr">&quot;defaults&quot;</span>: &#123; 默认后缀名<br>    <span class="hljs-attr">&quot;styleExt&quot;</span>: <span class="hljs-string">&quot;css&quot;</span>,<br>    <span class="hljs-attr">&quot;component&quot;</span>: &#123;&#125;<br>  &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure>

<h2 id="main-js"><a href="#main-js" class="headerlink" title="main.js"></a>main.js</h2><ul>
<li>描述：模块化启动入口</li>
<li>职责：加载启动根模块</li>
</ul>
<h2 id="AppModule"><a href="#AppModule" class="headerlink" title="AppModule"></a>AppModule</h2><ul>
<li>描述：项目根模块</li>
<li>职责：把组件、服务、路由、指令等组织到一起，设置启动组件为根组件</li>
</ul>
<h2 id="AppComponent"><a href="#AppComponent" class="headerlink" title="AppComponent"></a>AppComponent</h2><ul>
<li>描述：项目根组件</li>
<li>职责：替换掉 <code>index.html</code> 文件中的 <code>&lt;app-root&gt;&lt;/app-root&gt;</code> 节点</li>
</ul>
<h2 id="其它资源"><a href="#其它资源" class="headerlink" title="其它资源"></a>其它资源</h2><ul>
<li>资源</li>
<li>指令</li>
<li>路由</li>
<li>服务</li>
<li>……</li>
</ul>
<h1 id="特新"><a href="#特新" class="headerlink" title="特新"></a>特新</h1><blockquote>
<p>内容纲要</p>
<ul>
<li>了解 Angular 核心特性（概念模型）</li>
</ul>
</blockquote>
<p>本章节主要为大家描述 Angular <strong>“概念模型”</strong>（ Mental Model ）的构建。我发现，很多开发者已经做过非常多的项目，但是当你跟他聊的时候，你很快就会发现他并没有掌握这门框架的精髓。打几个比方，当别人提到 Spring 的时候，你的大脑里面第一个想到一定是 DI、IOC、AOP 这些东西；当别人提到 Hibernate 或者 Mybatis 的时候，你的大脑里面立即会浮现出 ORM 的概念；当别人提到 React 的时候，你想到的应该是 VDom、JSX；当别人提到 jQuery 的时候，你首先想到的应该是$对吧？所以，你可以看到，任何一个成功的框架都有自己独创的 <strong>“概念模型”</strong>，或者叫 <strong>“核心价值”</strong> 也可以。这是框架本身存在的价值，也是你掌握这门框架应该紧扣的主线，而不是上来就陷入到茫茫多的技术细节里面去。</p>
<p><img src="https://angular.io/generated/images/guide/architecture/overview2.png" srcset="/img/loading.gif" lazyload alt="angular-architecture"></p>
<h2 id="组件（Components）"><a href="#组件（Components）" class="headerlink" title="组件（Components）"></a>组件（Components）</h2><p>既然如此，问题就来了，新版本的 Angular 的核心概念是什么呢？</p>
<p>非常简单，一切都是围绕着“组件”（ Component ）的概念展开的：</p>
<p><img src="/img/webimg/angular/%E7%BB%84%E4%BB%B6%E5%8C%96.jpg" srcset="/img/loading.gif" lazyload alt="组件化"></p>
<p>Component（组件）是整个框架的核心，也是终极目标。“组件化”的意义有2个：</p>
<ul>
<li>第一是分治，因为有了组件之后，我们可以把各种逻辑封装在组件内部，避免混在一起</li>
<li>第二是复用，封装成组件之后不仅可以在项目内部复用，而且可以沉淀下来跨项目复用</li>
</ul>
<h2 id="模块（Modules）"><a href="#模块（Modules）" class="headerlink" title="模块（Modules）"></a>模块（Modules）</h2><p><img src="/img/webimg/angular/module.png" srcset="/img/loading.gif" lazyload alt="模块"></p>
<p>NgModule（模块）是组织业务代码的利器，按照你自己的业务场景，把组件、服务、路由打包到模块里面，形成一个个的积木块，然后再用这些积木块来搭建出高楼大厦。</p>
<p><img src="/img/webimg/angular/55422dd3fc8b12935b8bcd38-3-hd.jpg" srcset="/img/loading.gif" lazyload alt="55422dd3fc8b12935b8bcd38-3-hd.jpg"></p>
<h2 id="模板（Templates）"><a href="#模板（Templates）" class="headerlink" title="模板（Templates）"></a>模板（Templates）</h2><p>组件是用来封装对视图的操作的，而我们的所谓的视图其实也就是常规的 HTML 模板：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!--The content below is only a placeholder and can be replaced.--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-align:center&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span><br>    Welcome to &#123;&#123; title &#125;&#125;!<br>  <span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure>



<h2 id="元数据（Metadata）"><a href="#元数据（Metadata）" class="headerlink" title="元数据（Metadata）"></a>元数据（Metadata）</h2><p><img src="/img/webimg/angular/metadata.png" srcset="/img/loading.gif" lazyload alt="metadata.png"></p>
<p>元数据告诉 Angular 如何处理组件类。</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-meta">@Component</span>(&#123;<br>  <span class="hljs-attr">selector</span>: <span class="hljs-string">&#x27;app-root&#x27;</span>,<br>  <span class="hljs-attr">templateUrl</span>: <span class="hljs-string">&#x27;./app.component.html&#x27;</span>,<br>  <span class="hljs-attr">styleUrls</span>: [<span class="hljs-string">&#x27;./app.component.css&#x27;</span>]<br>&#125;)<br><span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AppComponent</span> </span>&#123;<br>  title = <span class="hljs-string">&#x27;你的第一个 Angular 应用&#x27;</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="数据绑定（Data-binding）"><a href="#数据绑定（Data-binding）" class="headerlink" title="数据绑定（Data binding）"></a>数据绑定（Data binding）</h2><p><img src="/img/webimg/angular/databinding.png" srcset="/img/loading.gif" lazyload alt="databinding.png"></p>
<p>和 Vue.js 一样，MVVM 思想（数据驱动视图），通过特殊的 <code>&#123;&#123;&#125;&#125;</code> 语法将数据绑定到 DOM 元素，当数据改变的时候会影响视图的更新。</p>
<h2 id="指令（Directives）"><a href="#指令（Directives）" class="headerlink" title="指令（Directives）"></a>指令（Directives）</h2><p><img src="/img/webimg/angular/directive.png" srcset="/img/loading.gif" lazyload alt="directive.png"></p>
<p>和 Vue.js 一样，Angular 扩展了 HTML 语法，增加了一些特殊的属性指令，例如：</p>
<ul>
<li><code>*ngFor</code> 循环指令</li>
<li><code>*ngIf</code> 条件判断指令</li>
<li><code>[(ngModel)]</code> 表单控件双向绑定指令</li>
<li>…</li>
</ul>
<h2 id="Services（服务）"><a href="#Services（服务）" class="headerlink" title="Services（服务）"></a>Services（服务）</h2><p><img src="/img/webimg/angular/service.png" srcset="/img/loading.gif" lazyload alt="service.png"></p>
<p>服务是一个广义范畴，包括：值、函数，或应用所需的功能。</p>
<p>说白了服务就是针对某个单一或系统功能的封装，例如在 Angular 核心包里面，最典型的一个服务就是 Http 服务。</p>
<p>几乎任何东西都可以是一个服务。 典型的服务是一个类，具有专注的、明确的用途。它应该做一件特定的事情，并把它做好。</p>
<p>例如：</p>
<ul>
<li>日志服务</li>
<li>和服务端接口交互的服务</li>
</ul>
<p>组件类应保持精简。组件本身不从服务器获得数据、不进行验证输入，也不直接往控制台写日志。 它们把这些任务委托给服务。</p>
<p>服务仍然是任何 Angular 应用的基础。组件就是最大的服务消费者。</p>
<p>组件的任务就是提供用户体验，仅此而已。它介于视图（由模板渲染）和应用逻辑（通常包括<em>模型</em>的某些概念）之间。 设计良好的组件为数据绑定提供属性和方法，把其它琐事都委托给服务。</p>
<p>Angular 不会<em>强制要求</em>我们遵循这些原则。 即使我们花 3000 行代码写了一个“厨房洗碗槽”组件，它也不会抱怨什么。</p>
<h2 id="依赖注入（Dependency-injection）"><a href="#依赖注入（Dependency-injection）" class="headerlink" title="依赖注入（Dependency injection）"></a>依赖注入（Dependency injection）</h2><p><img src="/img/webimg/angular/dependency-injection.png" srcset="/img/loading.gif" lazyload alt="dependency-injection.png"></p>
<p>“依赖注入”是提供类的新实例的一种方式，还负责处理好类所需的全部依赖。大多数依赖都是服务。 Angular 使用依赖注入来提供新组件以及组件所需的服务。</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>我们学到的这些只是关于 Angular 应用程序的八个主要构造块的基础知识：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://angular.cn/guide/architecture#modules">模块</a></li>
<li><a target="_blank" rel="noopener" href="https://angular.cn/guide/architecture#components">组件</a></li>
<li><a target="_blank" rel="noopener" href="https://angular.cn/guide/architecture#templates">模板</a></li>
<li><a target="_blank" rel="noopener" href="https://angular.cn/guide/architecture#metadata">元数据</a></li>
<li><a target="_blank" rel="noopener" href="https://angular.cn/guide/architecture#data-binding">数据绑定</a></li>
<li><a target="_blank" rel="noopener" href="https://angular.cn/guide/architecture#directives">指令</a></li>
<li><a target="_blank" rel="noopener" href="https://angular.cn/guide/architecture#services">服务</a></li>
<li><a target="_blank" rel="noopener" href="https://angular.cn/guide/architecture#dependency-injection">依赖注入</a></li>
</ul>
<p>这是 Angular 应用程序中所有其它东西的基础，要使用 Angular，以这些作为开端就绰绰有余了。 但它仍然没有包含我们需要知道的全部。</p>
<p>这里是一个简短的、按字母排序的列表，列出了其它重要的 Angular 特性和服务。</p>
<ul>
<li>动画</li>
<li>表单</li>
<li>HTTP</li>
<li>组件生命周期</li>
<li>管道过滤器</li>
<li>路由</li>
<li>测试</li>
</ul>
<h1 id="TypeScript"><a href="#TypeScript" class="headerlink" title="TypeScript"></a>TypeScript</h1><blockquote>
<p>内容纲要</p>
<ul>
<li>了解什么是 TypeScript</li>
<li>TypeScript 基本语法</li>
</ul>
</blockquote>
<p><img src="/img/webimg/angular/1515492554669.png" srcset="/img/loading.gif" lazyload alt="1515492554669"></p>
<h2 id="TypeScript-介绍"><a href="#TypeScript-介绍" class="headerlink" title="TypeScript 介绍"></a>TypeScript 介绍</h2><h3 id="TypeScript-是什么"><a href="#TypeScript-是什么" class="headerlink" title="TypeScript 是什么"></a>TypeScript 是什么</h3><p><img src="/img/webimg/angular/type+es6.png" srcset="/img/loading.gif" lazyload alt="type+es6.png"></p>
<p>TypeScript 是 JavaScript 的强类型版本。然后在编译期去掉类型和特有语法，生成纯粹的 JavaScript 代码。由于最终在浏览器中运行的仍然是 JavaScript，所以 TypeScript 并不依赖于浏览器的支持，也并不会带来兼容性问题。</p>
<p>TypeScript 是 JavaScript 的超集，这意味着他支持所有的 JavaScript 语法。并在此之上对 JavaScript 添加了一些扩展，如 class / interface / module 等。这样会大大提升代码的可阅读性。</p>
<p>和 JavaScript 若类型不同，TypeScript 这种强类型语言最大的优势在于静态类型检查，可以在代码开发阶段就预知一些低级错误的发生。</p>
<ul>
<li>一种类似于 JavaScript 的语言，在 JavaScript 的基础之上增加了类型，同时增强了 JavaScript 部分语法功能</li>
<li>遵循 EcmaScript 6 标准规范</li>
<li>由微软开发</li>
<li>Angular 2 框架采用 TypeScript 编写</li>
<li>背后有微软和谷歌两大公司的支持</li>
<li>TypeScript 可以编译成 JavaScript 从而在支持 JavaScript 的环境中运行</li>
<li>TypeScript 和 JavaScript 的关系就好比 less 和 css 的关系</li>
</ul>
<h3 id="静态类型和动态类型"><a href="#静态类型和动态类型" class="headerlink" title="静态类型和动态类型"></a>静态类型和动态类型</h3><p><img src="/img/webimg/angular/33328cd.jpg" srcset="/img/loading.gif" lazyload alt="静态和动态"></p>
<p>静态（static）：无需运行，根据程序代码就能确定结果。</p>
<p>动态（dynamic）：只有运行才能确定结果。</p>
<p>类型：对某个数据所具有的性质进行的描述。如它的结构是怎样的，能进行什么操作。</p>
<p>静态类型：数据拥有类型，且仅有数据拥有类型。</p>
<p>动态类型：数据拥有类型，存放数据的变量、表达式也拥有类型，且类型在编译时是固定的。</p>
<p>下图是静态语言和动态语言的比较：</p>
<p><img src="/img/webimg/angular/0b68bbc8b230d957e25493e9e1bfada2_hd.jpg" srcset="/img/loading.gif" lazyload alt="0b68bbc8b230d957e25493e9e1bfada2_hd.jpg"></p>
<p>从表中可见，动态语言和静态语言各有优劣，而TypeScript提供了静态语言强类型支持，同时兼容动态语言弱类型的语法，使用者根据项目需求自由选择。</p>
<p>这种动静结合的特性，目前还没在其他语言见过。</p>
<h3 id="Why-TypeScript"><a href="#Why-TypeScript" class="headerlink" title="Why TypeScript"></a>Why TypeScript</h3><ul>
<li>从 Angular 2 之后，官方推荐使用 TypeScript 作为开发 Angular 应用的首选语言</li>
</ul>
<ul>
<li>遵循 EcmaScript 6</li>
<li>强大的 IDE 支持<ul>
<li>类型检查</li>
<li>严谨的语法提示</li>
</ul>
</li>
<li>代码重构</li>
<li>可读性良好</li>
</ul>
<h3 id="TypeScript-使用场景"><a href="#TypeScript-使用场景" class="headerlink" title="TypeScript 使用场景"></a>TypeScript 使用场景</h3><ul>
<li><p>大型团队开发</p>
</li>
<li><p>Angular 官推语言</p>
</li>
<li><p>其它…</p>
<p>这里引用知乎上一位开发者对使用推广 TypeScript 的看法：</p>
</li>
</ul>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs vim">typescript绝对是好东西，不过推广是有难度的：<br><span class="hljs-number">1</span>、TS是微软制造，最好的开发工具是VS，想想有些人就激动了（什么<span class="hljs-keyword">vi</span>流，sublime流，macbook流，虽然也能写<span class="hljs-keyword">ts</span>，但你无法跟他们说用<span class="hljs-keyword">vs</span>写有多么好）；<br><br><span class="hljs-number">2</span>、即使你告诉他们TS有多好，但是几十人的团队里总有一半以上的人不想学新的东西（当然我没有权利说不学新东西的人应该全部滚动，因为互联网打工的是大爷，想跳槽随便找工作）；<br><br><span class="hljs-number">3</span>、JSer很多没有学习OOP开发经验（特别是从设计／页面重构转过来的）；<br><br><span class="hljs-number">4</span>、很多人接触TS前根本没学过JS，经常有人问“使用TS如何写元素拖拽”这样的问题（那是DOM API好伐，不过你跟初学者很难解释明白）；<br><br>- 来源：知乎<br>- 链接：http<span class="hljs-variable">s:</span>//www.zhihu.<span class="hljs-keyword">com</span>/question/<span class="hljs-number">21879449</span><br>- 作者：Fula Li<br></code></pre></td></tr></table></figure>



<h3 id="TypeScript-不仅仅用于开发-Angular-应用"><a href="#TypeScript-不仅仅用于开发-Angular-应用" class="headerlink" title="TypeScript 不仅仅用于开发 Angular 应用"></a>TypeScript 不仅仅用于开发 Angular 应用</h3><blockquote>
<p><a target="_blank" rel="noopener" href="https://www.typescriptlang.org/samples/index.html">https://www.typescriptlang.org/samples/index.html</a></p>
</blockquote>
<ul>
<li>React</li>
<li>Angular</li>
<li>Node.js</li>
<li>Vue.js</li>
<li>WeChat</li>
<li>…</li>
</ul>
<p>凡是可以写 JavaScript 的都可以使用 TypeScript。</p>
<h3 id="前置知识"><a href="#前置知识" class="headerlink" title="前置知识"></a>前置知识</h3><ul>
<li>EcmaScript 6</li>
<li>TypeScript 概念及关系</li>
<li>具有一定的 JavaScript 开发经验</li>
<li>有 Java、C#、C++、C 等静态类型语言使用经验更佳</li>
</ul>
<h2 id="如何学习-TypeScript"><a href="#如何学习-TypeScript" class="headerlink" title="如何学习 TypeScript"></a>如何学习 TypeScript</h2><ul>
<li>官方文档为准</li>
<li>阅读别人的代码</li>
<li>由于 TypeScript 是兼容 EcmaScript 6 的，所以在开发的时候不需要完全学会 TypeScript 再使用</li>
<li>一个建议是有空就学，会了就用</li>
<li>虽然兼容 EcmaScript 6，但建议既然使用了 TypeScript 就让你的 TypeScript 代码更加 TypeScript，这样才能发挥出 TypeScript 的威力。</li>
</ul>
<h3 id="相关链接-1"><a href="#相关链接-1" class="headerlink" title="相关链接"></a>相关链接</h3><ul>
<li><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/TypeScript">维基百科 - TypeScript</a></li>
</ul>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.zhihu.com/question/21879449?sort=created">如何评价 TypeScript？</a></li>
<li><a target="_blank" rel="noopener" href="https://www.zhihu.com/question/28016252/answer/39056940">flow.js/typescript 这类定义参数类型的意义何在？</a></li>
</ul>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/Microsoft/TypeScript">TypeScript Github</a></li>
<li><a target="_blank" rel="noopener" href="https://www.typescriptlang.org/">TypeScript 官网</a></li>
<li><a target="_blank" rel="noopener" href="https://www.tslang.cn/">TypeScript 中文网</a></li>
</ul>
<h2 id="起步-1"><a href="#起步-1" class="headerlink" title="起步"></a>起步</h2><h3 id="搭建-TypeScript-开发环境"><a href="#搭建-TypeScript-开发环境" class="headerlink" title="搭建 TypeScript 开发环境"></a>搭建 TypeScript 开发环境</h3><ul>
<li>什么是 compiler？</li>
<li>less 编译器：<code>less</code></li>
<li>EcmaScript 6 编译器：<code>babel</code></li>
<li>TypeScript 编译器：<code>typescript</code></li>
<li>一句话：把 TypeScript 转换为 JavaScript ，浏览器就具有运行了</li>
<li>在线测试编译环境 compiler<ul>
<li><a target="_blank" rel="noopener" href="https://www.typescriptlang.org/play/index.html">https://www.typescriptlang.org/play/index.html</a></li>
</ul>
</li>
<li>本地开发编译环境</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell">npm i -g typescript<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> 查看版本号</span><br>tsc --version<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> 查看使用帮助</span><br>tsc --help<br></code></pre></td></tr></table></figure>

<h3 id="编辑器的选择"><a href="#编辑器的选择" class="headerlink" title="编辑器的选择"></a>编辑器的选择</h3><ul>
<li>Visual Studio Code</li>
<li>Sublime</li>
<li>Webstorm</li>
<li>…</li>
</ul>
<h3 id="Hello-World"><a href="#Hello-World" class="headerlink" title="Hello World"></a>Hello World</h3><p>新建 <code>greeter.ts</code> 并写入以下内容：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">greeter</span>(<span class="hljs-params">person</span>) </span>&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Hello, &quot;</span> + person;<br>&#125;<br><br><span class="hljs-keyword">let</span> user = <span class="hljs-string">&quot;Jane User&quot;</span>;<br><br><span class="hljs-built_in">document</span>.body.innerHTML = greeter(user);<br></code></pre></td></tr></table></figure>

<p>安装编译器：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">npm i -g typescript<br></code></pre></td></tr></table></figure>

<p>编译：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">tsc greeter.ts<br></code></pre></td></tr></table></figure>

<p>修改 <code>greeter.ts</code> 文件中的代码，为 greeter 函数的参数 person 加上类型声明 <code>:string</code>：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">greeter</span>(<span class="hljs-params">person: <span class="hljs-built_in">string</span></span>) </span>&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Hello, &quot;</span> + person;<br>&#125;<br><br><span class="hljs-keyword">let</span> user = <span class="hljs-string">&quot;Jane User&quot;</span>;<br><br><span class="hljs-built_in">document</span>.body.innerHTML = greeter(user);<br></code></pre></td></tr></table></figure>

<p>重新编译执行。</p>
<p>让我们继续修改：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">greeter</span>(<span class="hljs-params">person: <span class="hljs-built_in">string</span></span>) </span>&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Hello, &quot;</span> + person;<br>&#125;<br><br><span class="hljs-keyword">let</span> user = [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>];<br><br><span class="hljs-built_in">document</span>.body.innerHTML = greeter(user);<br></code></pre></td></tr></table></figure>

<p>重新编译，你将看到如下错误：</p>
<figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs subunit"><span class="hljs-keyword">error </span>TS2345: Argument of type &#x27;number[]&#x27; is not assignable to parameter of type &#x27;string&#x27;.<br></code></pre></td></tr></table></figure>

<h3 id="接口（Interface）"><a href="#接口（Interface）" class="headerlink" title="接口（Interface）"></a>接口（Interface）</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">interface</span> Person &#123;    firstName: <span class="hljs-built_in">string</span>;    lastName: <span class="hljs-built_in">string</span>;&#125;<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">greeter</span>(<span class="hljs-params">person: Person</span>) </span>&#123;    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Hello, &quot;</span> + person.firstName + <span class="hljs-string">&quot; &quot;</span> + person.lastName;&#125;<span class="hljs-keyword">let</span> user = &#123; <span class="hljs-attr">firstName</span>: <span class="hljs-string">&quot;Jane&quot;</span>, <span class="hljs-attr">lastName</span>: <span class="hljs-string">&quot;User&quot;</span> &#125;;<span class="hljs-built_in">document</span>.body.innerHTML = greeter(user);<br></code></pre></td></tr></table></figure>

<h3 id="类（Class）"><a href="#类（Class）" class="headerlink" title="类（Class）"></a>类（Class）</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Student</span> </span>&#123;    fullName: <span class="hljs-built_in">string</span>;    <span class="hljs-function"><span class="hljs-title">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">public</span> firstName: <span class="hljs-built_in">string</span>, <span class="hljs-keyword">public</span> middleInitial: <span class="hljs-built_in">string</span>, <span class="hljs-keyword">public</span> lastName: <span class="hljs-built_in">string</span></span>)</span> &#123;        <span class="hljs-built_in">this</span>.fullName = firstName + <span class="hljs-string">&quot; &quot;</span> + middleInitial + <span class="hljs-string">&quot; &quot;</span> + lastName;    &#125;&#125;<span class="hljs-keyword">interface</span> Person &#123;    firstName: <span class="hljs-built_in">string</span>;    lastName: <span class="hljs-built_in">string</span>;&#125;<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">greeter</span>(<span class="hljs-params">person : Person</span>) </span>&#123;    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Hello, &quot;</span> + person.firstName + <span class="hljs-string">&quot; &quot;</span> + person.lastName;&#125;<span class="hljs-keyword">let</span> user = <span class="hljs-keyword">new</span> Student(<span class="hljs-string">&quot;Jane&quot;</span>, <span class="hljs-string">&quot;M.&quot;</span>, <span class="hljs-string">&quot;User&quot;</span>);<span class="hljs-built_in">document</span>.body.innerHTML = greeter(user);<br></code></pre></td></tr></table></figure>

<h2 id="变量声明"><a href="#变量声明" class="headerlink" title="变量声明"></a>变量声明</h2><h3 id="var"><a href="#var" class="headerlink" title="var"></a><code>var</code></h3><ul>
<li>作用域</li>
<li>重复声明</li>
</ul>
<h3 id="let"><a href="#let" class="headerlink" title="let"></a><code>let</code></h3><ul>
<li>块级作用域</li>
<li>在同一个块中不能重复声明</li>
</ul>
<h3 id="const"><a href="#const" class="headerlink" title="const"></a><code>const</code></h3><ul>
<li>声明同时必须赋值</li>
<li>一定声明不可改变<ul>
<li>对象可以修改</li>
</ul>
</li>
<li>块级作用域</li>
</ul>
<h3 id="let-vs-const"><a href="#let-vs-const" class="headerlink" title="let vs const"></a><code>let</code> vs <code>const</code></h3><p>使用<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Principle_of_least_privilege">最小特权原则</a>，所有变量除了你计划去修改的都应该使用<code>const</code>。 基本原则就是如果一个变量不需要对它写入，那么其它使用这些代码的人也不能够写入它们，并且要思考为什么会需要对这些变量重新赋值。 使用 <code>const</code>也可以让我们更容易的推测数据的流动。</p>
<h2 id="基本数据类型"><a href="#基本数据类型" class="headerlink" title="基本数据类型"></a>基本数据类型</h2><h3 id="布尔值"><a href="#布尔值" class="headerlink" title="布尔值"></a>布尔值</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">let</span> isDone: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>;<br></code></pre></td></tr></table></figure>

<h3 id="数字"><a href="#数字" class="headerlink" title="数字"></a>数字</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">let</span> amount: <span class="hljs-built_in">number</span> = <span class="hljs-number">6</span>;<br></code></pre></td></tr></table></figure>

<h3 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h3><ul>
<li>类型</li>
<li>模板字符串<ul>
<li>支持换行</li>
<li>支持内嵌表达式</li>
</ul>
</li>
<li>和 JavaScript 一样，可以使用双引号，也可以使用单引号，推荐单引号</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">let</span> nickname: <span class="hljs-built_in">string</span> = <span class="hljs-string">&#x27;张三&#x27;</span>;<br></code></pre></td></tr></table></figure>

<p>还可以使用模板字符串（换行 + 嵌入表达式）：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">let</span> nickname: <span class="hljs-built_in">string</span> = <span class="hljs-string">`Gene`</span>;<span class="hljs-keyword">let</span> age: <span class="hljs-built_in">number</span> = <span class="hljs-number">37</span>;<span class="hljs-keyword">let</span> sentence: <span class="hljs-built_in">string</span> = <span class="hljs-string">`Hello, my nickname is <span class="hljs-subst">$&#123; nickname &#125;</span>.I&#x27;ll be <span class="hljs-subst">$&#123; age + <span class="hljs-number">1</span> &#125;</span> years old next month.`</span>;<br></code></pre></td></tr></table></figure>

<h3 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h3><p>TypeScript像JavaScript一样可以操作数组元素。 有两种方式可以定义数组。 第一种，可以在元素类型后面接上<code>[]</code>，表示由此类型元素组成的一个数组：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">let</span> list: <span class="hljs-built_in">number</span>[] = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];<br></code></pre></td></tr></table></figure>

<p>第二种方式是使用数组泛型，<code>Array&lt;元素类型&gt;</code>：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">let</span> list: <span class="hljs-built_in">Array</span>&lt;<span class="hljs-built_in">number</span>&gt; = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];<br></code></pre></td></tr></table></figure>

<h3 id="元组"><a href="#元组" class="headerlink" title="元组"></a>元组</h3><p>元组类型允许表示一个已知元素数量和类型的数组，各元素的类型不必相同。 比如，你可以定义一对值分别为<code>string</code>和<code>number</code>类型的元组。</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-comment">// Declare a tuple typelet x: [string, number];// Initialize itx = [&#x27;hello&#x27;, 10]; // OK// Initialize it incorrectlyx = [10, &#x27;hello&#x27;]; // Error</span><br></code></pre></td></tr></table></figure>

<h3 id="Object"><a href="#Object" class="headerlink" title="Object"></a>Object</h3><ul>
<li>允许赋任意值</li>
<li>但是不能调用任意方法，即便它真的有</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">let</span> foo: <span class="hljs-built_in">Object</span> = &#123;  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Jack&#x27;</span>,  <span class="hljs-attr">age</span>: <span class="hljs-number">18</span>&#125;<br></code></pre></td></tr></table></figure>

<blockquote>
<p>知道即可，用的很少，没有类型校验和语法提示</p>
</blockquote>
<h3 id="Any"><a href="#Any" class="headerlink" title="Any"></a>Any</h3><p>有时候，我们会想要为那些在编程阶段还不清楚类型的变量指定一个类型。 这些值可能来自于动态的内容，比如来自用户输入或第三方代码库。 这种情况下，我们不希望类型检查器对这些值进行检查而是直接让它们通过编译阶段的检查。 那么我们可以使用 <code>any</code>类型来标记这些变量：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">let</span> notSure: <span class="hljs-built_in">any</span> = <span class="hljs-number">4</span>;notSure = <span class="hljs-string">&quot;maybe a string instead&quot;</span>;notSure = <span class="hljs-literal">false</span>; <span class="hljs-comment">// okay, definitely a boolean</span><br></code></pre></td></tr></table></figure>

<h3 id="Void"><a href="#Void" class="headerlink" title="Void"></a>Void</h3><p><code>void</code>类型像是与<code>any</code>类型相反，它表示没有任何类型。 当一个函数没有返回值时，你通常会见到其返回值类型是 <code>void</code>：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">warnUser</span>(<span class="hljs-params"></span>): <span class="hljs-title">void</span> </span>&#123;  alert(<span class="hljs-string">&quot;This is my warning message&quot;</span>);&#125;<br></code></pre></td></tr></table></figure>

<p>声明一个<code>void</code>类型的变量没有什么大用，因为你只能为它赋予<code>undefined</code>和<code>null</code>：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">let</span> unusable: <span class="hljs-built_in">void</span> = <span class="hljs-literal">undefined</span>;<br></code></pre></td></tr></table></figure>

<h3 id="Null-和-Undefined"><a href="#Null-和-Undefined" class="headerlink" title="Null 和 Undefined"></a>Null 和 Undefined</h3><p>和 <code>void</code>相似，它们的本身的类型用处不是很大：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-comment">// Not much else we can assign to these variables!let u: undefined = undefined;let n: null = null;</span><br></code></pre></td></tr></table></figure>

<p>默认情况下<code>null</code>和<code>undefined</code>是所有类型的子类型。 就是说你可以把 <code>null</code>和<code>undefined</code>赋值给<code>number</code>类型的变量。</p>
<p>然而，当你指定了<code>--strictNullChecks</code> 标记，<code>null</code> 和 <code>undefined</code> 只能赋值给 <code>void</code> 和它们各自。 这能避免 <em>很多</em>常见的问题。许在某处你想传入一个 <code>string</code>或<code>null</code>或<code>undefined</code>，你可以使用联合类型<code>string | null | undefined</code>。</p>
<blockquote>
<p>注意：我们推荐尽可能地使用<code>--strictNullChecks</code> ，因为它使你的代码更严谨，可以极大的减少出错的几率。</p>
</blockquote>
<h3 id="类型推断"><a href="#类型推断" class="headerlink" title="类型推断"></a>类型推断</h3><p>有时候你会遇到这样的情况，你会比TypeScript更了解某个值的详细信息。 通常这会发生在你清楚地知道一个实体具有比它现有类型更确切的类型。</p>
<p>通过<em>类型断言</em>这种方式可以告诉编译器，“相信我，我知道自己在干什么”。 类型断言好比其它语言里的类型转换，但是不进行特殊的数据检查和解构。 它没有运行时的影响，只是在编译阶段起作用。 TypeScript会假设你，程序员，已经进行了必须的检查。</p>
<p>类型断言有两种形式。 其一是“尖括号”语法：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">let</span> someValue: <span class="hljs-built_in">any</span> = <span class="hljs-string">&quot;this is a string&quot;</span>;<span class="hljs-keyword">let</span> strLength: <span class="hljs-built_in">number</span> = (&lt;<span class="hljs-built_in">string</span>&gt;someValue).length;<br></code></pre></td></tr></table></figure>

<p>另一个为<code>as</code>语法：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">let</span> someValue: <span class="hljs-built_in">any</span> = <span class="hljs-string">&quot;this is a string&quot;</span>;<span class="hljs-keyword">let</span> strLength: <span class="hljs-built_in">number</span> = (someValue <span class="hljs-keyword">as</span> <span class="hljs-built_in">string</span>).length;<br></code></pre></td></tr></table></figure>

<p>两种形式是等价的。 至于使用哪个大多数情况下是凭个人喜好；然而，当你在TypeScript里使用JSX时，只有 <code>as</code>语法断言是被允许的。</p>
<h3 id="其它"><a href="#其它" class="headerlink" title="其它"></a>其它</h3><ul>
<li><code>ReadonlyArray&lt;T&gt;</code> 去除了数组的所有可变方法，确保数组创建后再也不能被修改</li>
</ul>
<h2 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h2><p>TypeScript的核心原则之一是对值所具有的<em>结构</em>进行类型检查。 它有时被称做“鸭式辨型法”或“结构性子类型化”。 在TypeScript里，接口的作用就是为这些类型命名和为你的代码或第三方代码定义契约。</p>
<h3 id="基本示例"><a href="#基本示例" class="headerlink" title="基本示例"></a>基本示例</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">printLabel</span>(<span class="hljs-params">labelledObj: &#123; label: <span class="hljs-built_in">string</span> &#125;</span>) </span>&#123;  <span class="hljs-built_in">console</span>.log(labelledObj.label);&#125;<span class="hljs-keyword">let</span> myObj = &#123; <span class="hljs-attr">size</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">&quot;Size 10 Object&quot;</span> &#125;;printLabel(myObj);<br></code></pre></td></tr></table></figure>

<p>类型检查器会查看<code>printLabel</code>的调用。 <code>printLabel</code>有一个参数，并要求这个对象参数有一个名为<code>label</code>类型为<code>string</code>的属性。 需要注意的是，我们传入的对象参数实际上会包含很多属性，但是编译器只会检查那些必需的属性是否存在，并且其类型是否匹配。 然而，有些时候TypeScript却并不会这么宽松，我们下面会稍做讲解。</p>
<p>下面我们重写上面的例子，这次使用接口来描述：必须包含一个<code>label</code>属性且类型为<code>string</code>：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">interface</span> LabelledValue &#123;  label: <span class="hljs-built_in">string</span>;&#125;<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">printLabel</span>(<span class="hljs-params">labelledObj: LabelledValue</span>) </span>&#123;  <span class="hljs-built_in">console</span>.log(labelledObj.label);&#125;<span class="hljs-keyword">let</span> myObj = &#123;<span class="hljs-attr">size</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">&quot;Size 10 Object&quot;</span>&#125;;printLabel(myObj);<br></code></pre></td></tr></table></figure>

<h3 id="可选属性"><a href="#可选属性" class="headerlink" title="可选属性"></a>可选属性</h3><p>接口里的属性不全都是必需的。 有些是只在某些条件下存在，或者根本不存在。 可选属性在应用“option bags”模式时很常用，即给函数传入的参数对象中只有部分属性赋值了。</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">interface</span> SquareConfig &#123;  color?: <span class="hljs-built_in">string</span>;  width?: <span class="hljs-built_in">number</span>;&#125;<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createSquare</span>(<span class="hljs-params">config: SquareConfig</span>): </span>&#123;color: <span class="hljs-built_in">string</span>; area: <span class="hljs-built_in">number</span>&#125; &#123;  <span class="hljs-keyword">let</span> newSquare = &#123;<span class="hljs-attr">color</span>: <span class="hljs-string">&quot;white&quot;</span>, <span class="hljs-attr">area</span>: <span class="hljs-number">100</span>&#125;;  <span class="hljs-keyword">if</span> (config.color) &#123;    newSquare.color = config.color;  &#125;  <span class="hljs-keyword">if</span> (config.width) &#123;    newSquare.area = config.width * config.width;  &#125;  <span class="hljs-keyword">return</span> newSquare;&#125;<span class="hljs-keyword">let</span> mySquare = createSquare(&#123;<span class="hljs-attr">color</span>: <span class="hljs-string">&quot;black&quot;</span>&#125;);<br></code></pre></td></tr></table></figure>

<h3 id="只读属性"><a href="#只读属性" class="headerlink" title="只读属性"></a>只读属性</h3><p>一些对象属性只能在对象刚刚创建的时候修改其值。 你可以在属性名前用 <code>readonly</code>来指定只读属性:</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">interface</span> Point &#123;    <span class="hljs-keyword">readonly</span> x: <span class="hljs-built_in">number</span>;    <span class="hljs-keyword">readonly</span> y: <span class="hljs-built_in">number</span>;&#125;<br></code></pre></td></tr></table></figure>

<p>你可以通过赋值一个对象字面量来构造一个<code>Point</code>。 赋值后， <code>x</code>和<code>y</code>再也不能被改变了。</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">let</span> p1: Point = &#123; <span class="hljs-attr">x</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">20</span> &#125;;p1.x = <span class="hljs-number">5</span>; <span class="hljs-comment">// error!</span><br></code></pre></td></tr></table></figure>

<p><code>readonly</code> vs <code>const</code></p>
<ul>
<li>常量使用 const</li>
<li>对象属性使用 readonly</li>
</ul>
<h2 id="解构赋值"><a href="#解构赋值" class="headerlink" title="解构赋值"></a>解构赋值</h2><h3 id="数组解构"><a href="#数组解构" class="headerlink" title="数组解构"></a>数组解构</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">let</span> input = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>];<span class="hljs-keyword">let</span> [first, second] = input;<span class="hljs-built_in">console</span>.log(first); <span class="hljs-comment">// outputs 1console.log(second); // outputs 2</span><br></code></pre></td></tr></table></figure>

<p>上面的写法等价于：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript">first = input[<span class="hljs-number">0</span>];second = input[<span class="hljs-number">1</span>];<br></code></pre></td></tr></table></figure>

<p>利用解构赋值交换变量：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript">[first, second] = [second, first];<br></code></pre></td></tr></table></figure>

<p>函数参数解构：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">f</span> (<span class="hljs-params">[first, second]: [<span class="hljs-built_in">number</span>, <span class="hljs-built_in">number</span>]</span>) [  <span class="hljs-title">console</span>.<span class="hljs-title">log</span>(<span class="hljs-params">first</span>)  <span class="hljs-title">console</span>.<span class="hljs-title">log</span>(<span class="hljs-params">second</span>)]<span class="hljs-title">f</span>(<span class="hljs-params"><span class="hljs-number">1</span>, <span class="hljs-number">2</span></span>)</span><br></code></pre></td></tr></table></figure>

<p>解构剩余参数：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">let</span> [first, ...rest] = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]<span class="hljs-built_in">console</span>.log(first) <span class="hljs-comment">// 1console.log(rest) // [2, 3, 4]</span><br></code></pre></td></tr></table></figure>

<p>也可以忽略其它参数：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">let</span> [first] = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>];<span class="hljs-built_in">console</span>.log(first); <span class="hljs-comment">// outputs 1</span><br></code></pre></td></tr></table></figure>

<p>或者跳过解构：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">let</span> [, second, , fourth] = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]<br></code></pre></td></tr></table></figure>

<h3 id="对象解构"><a href="#对象解构" class="headerlink" title="对象解构"></a>对象解构</h3><p>示例一：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">let</span> o = &#123;    <span class="hljs-attr">a</span>: <span class="hljs-string">&quot;foo&quot;</span>,    <span class="hljs-attr">b</span>: <span class="hljs-number">12</span>,    <span class="hljs-attr">c</span>: <span class="hljs-string">&quot;bar&quot;</span>&#125;;<span class="hljs-keyword">let</span> &#123; a, b &#125; = o;<br></code></pre></td></tr></table></figure>

<p>就像数组解构，你可以用没有声明的赋值：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">let</span> a: <span class="hljs-built_in">number</span>,  <span class="hljs-attr">b</span>: <span class="hljs-built_in">number</span>;(&#123;a, b&#125; = &#123;<span class="hljs-attr">a</span>: <span class="hljs-number">123</span>, <span class="hljs-attr">b</span>: <span class="hljs-number">456</span>&#125;)<span class="hljs-built_in">console</span>.log(a, b) <span class="hljs-comment">// 123 456</span><br></code></pre></td></tr></table></figure>

<p>你可以在对象里使用 <code>...</code> 语法创建剩余变量：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">let</span> &#123; a, ...passthrough &#125; = o;<span class="hljs-keyword">let</span> total = passthrough.b + passthrough.c.length;<br></code></pre></td></tr></table></figure>

<h4 id="属性解构重命名"><a href="#属性解构重命名" class="headerlink" title="属性解构重命名"></a>属性解构重命名</h4><p>你也可以给属性以不同的名字：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">let</span> &#123; <span class="hljs-attr">a</span>: newName1, <span class="hljs-attr">b</span>: newName2 &#125; = o;<br></code></pre></td></tr></table></figure>

<p>注意，这里的冒号<em>不是</em>指示类型的。 如果你想指定它的类型， 仍然需要在其后写上完整的模式。</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">let</span> &#123;a, b&#125;: &#123;<span class="hljs-attr">a</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">b</span>: <span class="hljs-built_in">number</span>&#125; = o;<br></code></pre></td></tr></table></figure>



<h4 id="默认值"><a href="#默认值" class="headerlink" title="默认值"></a>默认值</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">keepWholeObject</span>(<span class="hljs-params">wholeObject: &#123; a: <span class="hljs-built_in">string</span>, b?: <span class="hljs-built_in">number</span> &#125;</span>) </span>&#123;    <span class="hljs-keyword">let</span> &#123; a, b = <span class="hljs-number">1001</span> &#125; = wholeObject;&#125;<br></code></pre></td></tr></table></figure>

<h3 id="展开操作符"><a href="#展开操作符" class="headerlink" title="展开操作符"></a>展开操作符</h3><ul>
<li>展开数组</li>
<li>展开对象<ul>
<li>不会展开方法</li>
</ul>
</li>
</ul>
<h3 id="解构赋值用于函数声明"><a href="#解构赋值用于函数声明" class="headerlink" title="解构赋值用于函数声明"></a>解构赋值用于函数声明</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">type</span> C = &#123;<span class="hljs-attr">a</span>: <span class="hljs-built_in">string</span>, b?: <span class="hljs-built_in">number</span>&#125;<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">f</span> (<span class="hljs-params">&#123;a, b&#125;: C</span>): <span class="hljs-title">void</span> </span>&#123;  <span class="hljs-comment">// ...&#125;</span><br></code></pre></td></tr></table></figure>

<h3 id="解构赋值用于加载指定模块成员"><a href="#解构赋值用于加载指定模块成员" class="headerlink" title="解构赋值用于加载指定模块成员"></a>解构赋值用于加载指定模块成员</h3><h2 id="类"><a href="#类" class="headerlink" title="类"></a>类</h2><h3 id="基本示例-1"><a href="#基本示例-1" class="headerlink" title="基本示例"></a>基本示例</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span> </span>&#123;    name: <span class="hljs-built_in">string</span>;    age: <span class="hljs-built_in">number</span>;    <span class="hljs-function"><span class="hljs-title">constructor</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span>, age: <span class="hljs-built_in">number</span></span>)</span> &#123;        <span class="hljs-built_in">this</span>.name = name;        <span class="hljs-built_in">this</span>.age = age;    &#125;    <span class="hljs-function"><span class="hljs-title">sayHello</span>(<span class="hljs-params"></span>)</span> &#123;        <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>.name);    &#125;&#125;<span class="hljs-keyword">let</span> zs: Person = <span class="hljs-keyword">new</span> Person(<span class="hljs-string">&#x27;张三&#x27;</span>, <span class="hljs-number">18</span>);<br></code></pre></td></tr></table></figure>



<h3 id="构造函数"><a href="#构造函数" class="headerlink" title="构造函数"></a>构造函数</h3><h3 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Animal</span> </span>&#123;    <span class="hljs-function"><span class="hljs-title">move</span>(<span class="hljs-params">distanceInMeters: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span></span>)</span> &#123;        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`Animal moved <span class="hljs-subst">$&#123;distanceInMeters&#125;</span>m.`</span>);    &#125;&#125;<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Dog</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Animal</span> </span>&#123;    <span class="hljs-function"><span class="hljs-title">bark</span>(<span class="hljs-params"></span>)</span> &#123;        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;Woof! Woof!&#x27;</span>);    &#125;&#125;<span class="hljs-keyword">const</span> dog = <span class="hljs-keyword">new</span> Dog();dog.bark();dog.move(<span class="hljs-number">10</span>);dog.bark();<br></code></pre></td></tr></table></figure>

<p>这个例子展示了最基本的继承：类从基类中继承了属性和方法。 这里， <code>Dog</code>是一个 <em>派生类</em>，它派生自 <code>Animal</code> <em>基类</em>，通过 <code>extends</code>关键字。 派生类通常被称作 <em>子类</em>，基类通常被称作 <em>超类</em>。</p>
<p>因为 <code>Dog</code>继承了 <code>Animal</code>的功能，因此我们可以创建一个 <code>Dog</code>的实例，它能够 <code>bark()</code>和 <code>move()</code>。</p>
<p>下面是一个更复杂的例子：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Animal</span> </span>&#123;    name: <span class="hljs-built_in">string</span>;    <span class="hljs-function"><span class="hljs-title">constructor</span>(<span class="hljs-params">theName: <span class="hljs-built_in">string</span></span>)</span> &#123; <span class="hljs-built_in">this</span>.name = theName; &#125;    <span class="hljs-function"><span class="hljs-title">move</span>(<span class="hljs-params">distanceInMeters: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span></span>)</span> &#123;        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`<span class="hljs-subst">$&#123;<span class="hljs-built_in">this</span>.name&#125;</span> moved <span class="hljs-subst">$&#123;distanceInMeters&#125;</span>m.`</span>);    &#125;&#125;<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Snake</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Animal</span> </span>&#123;    <span class="hljs-function"><span class="hljs-title">constructor</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span></span>)</span> &#123; <span class="hljs-built_in">super</span>(name); &#125;    <span class="hljs-function"><span class="hljs-title">move</span>(<span class="hljs-params">distanceInMeters = <span class="hljs-number">5</span></span>)</span> &#123;        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;Slithering...&quot;</span>);        <span class="hljs-built_in">super</span>.move(distanceInMeters);    &#125;&#125;<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Horse</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Animal</span> </span>&#123;    <span class="hljs-function"><span class="hljs-title">constructor</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span></span>)</span> &#123; <span class="hljs-built_in">super</span>(name); &#125;    <span class="hljs-function"><span class="hljs-title">move</span>(<span class="hljs-params">distanceInMeters = <span class="hljs-number">45</span></span>)</span> &#123;        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;Galloping...&quot;</span>);        <span class="hljs-built_in">super</span>.move(distanceInMeters);    &#125;&#125;<span class="hljs-keyword">let</span> sam = <span class="hljs-keyword">new</span> Snake(<span class="hljs-string">&quot;Sammy the Python&quot;</span>);<span class="hljs-keyword">let</span> tom: Animal = <span class="hljs-keyword">new</span> Horse(<span class="hljs-string">&quot;Tommy the Palomino&quot;</span>);sam.move();tom.move(<span class="hljs-number">34</span>);<br></code></pre></td></tr></table></figure>

<p>与前一个例子的不同点是，派生类包含了一个构造函数，它 <em>必须</em>调用 <code>super()</code>，它会执行基类的构造函数。 而且，在构造函数里访问 <code>this</code>的属性之前，我们 <em>一定</em>要调用 <code>super()</code>。 这个是TypeScript强制执行的一条重要规则。</p>
<p>这个例子演示了如何在子类里可以重写父类的方法。 <code>Snake</code>类和 <code>Horse</code>类都创建了 <code>move</code>方法，它们重写了从<code>Animal</code>继承来的 <code>move</code>方法，使得 <code>move</code>方法根据不同的类而具有不同的功能。 注意，即使 <code>tom</code>被声明为<code>Animal</code>类型，但因为它的值是 <code>Horse</code>，调用 <code>tom.move(34)</code>时，它会调用 <code>Horse</code>里重写的方法：</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stylus">Slithering..<span class="hljs-selector-class">.Sammy</span> the Python moved <span class="hljs-number">5</span>m<span class="hljs-selector-class">.Galloping</span>..<span class="hljs-selector-class">.Tommy</span> the Palomino moved <span class="hljs-number">34</span>m.<br></code></pre></td></tr></table></figure>

<h3 id="实例成员访问修饰符"><a href="#实例成员访问修饰符" class="headerlink" title="实例成员访问修饰符"></a>实例成员访问修饰符</h3><h4 id="public-开放的"><a href="#public-开放的" class="headerlink" title="public 开放的"></a><code>public</code> 开放的</h4><ul>
<li>默认为 <code>public</code></li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Animal</span> </span>&#123;    <span class="hljs-keyword">public</span> name: <span class="hljs-built_in">string</span>;    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-title">constructor</span>(<span class="hljs-params">theName: <span class="hljs-built_in">string</span></span>)</span> &#123; <span class="hljs-built_in">this</span>.name = theName; &#125;    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-title">move</span>(<span class="hljs-params">distanceInMeters: <span class="hljs-built_in">number</span></span>)</span> &#123;        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`<span class="hljs-subst">$&#123;<span class="hljs-built_in">this</span>.name&#125;</span> moved <span class="hljs-subst">$&#123;distanceInMeters&#125;</span>m.`</span>);    &#125;&#125;<br></code></pre></td></tr></table></figure>

<h4 id="private-私有的"><a href="#private-私有的" class="headerlink" title="private 私有的"></a><code>private</code> 私有的</h4><ul>
<li>不能被外部访问，只能在类的内部访问使用</li>
<li>私有成员不会被继承</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span> </span>&#123;  <span class="hljs-keyword">public</span> name: <span class="hljs-built_in">string</span>;  <span class="hljs-keyword">public</span> age: <span class="hljs-built_in">number</span> = <span class="hljs-number">18</span>;  <span class="hljs-keyword">private</span> <span class="hljs-keyword">type</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">&#x27;human&#x27;</span>  <span class="hljs-keyword">public</span> <span class="hljs-title">constructor</span> (<span class="hljs-params">name, age</span>) &#123;    <span class="hljs-built_in">this</span>.name = name    <span class="hljs-built_in">this</span>.age = age  &#125;&#125;<br></code></pre></td></tr></table></figure>

<h4 id="protected-受保护的"><a href="#protected-受保护的" class="headerlink" title="protected 受保护的"></a><code>protected</code> 受保护的</h4><ul>
<li>和 <code>private</code> 类似，但是可以被继承</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span> </span>&#123;    <span class="hljs-keyword">protected</span> name: <span class="hljs-built_in">string</span>;    <span class="hljs-function"><span class="hljs-title">constructor</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span></span>)</span> &#123; <span class="hljs-built_in">this</span>.name = name; &#125;&#125;<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Employee</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Person</span> </span>&#123;    <span class="hljs-keyword">private</span> department: <span class="hljs-built_in">string</span>;    <span class="hljs-function"><span class="hljs-title">constructor</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span>, department: <span class="hljs-built_in">string</span></span>)</span> &#123;        <span class="hljs-built_in">super</span>(name)        <span class="hljs-built_in">this</span>.department = department;    &#125;    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-title">getElevatorPitch</span>(<span class="hljs-params"></span>)</span> &#123;        <span class="hljs-keyword">return</span> <span class="hljs-string">`Hello, my name is <span class="hljs-subst">$&#123;<span class="hljs-built_in">this</span>.name&#125;</span> and I work in <span class="hljs-subst">$&#123;<span class="hljs-built_in">this</span>.department&#125;</span>.`</span>;    &#125;&#125;<span class="hljs-keyword">let</span> howard = <span class="hljs-keyword">new</span> Employee(<span class="hljs-string">&quot;Howard&quot;</span>, <span class="hljs-string">&quot;Sales&quot;</span>);<span class="hljs-built_in">console</span>.log(howard.getElevatorPitch());<span class="hljs-built_in">console</span>.log(howard.name); <span class="hljs-comment">// 错误</span><br></code></pre></td></tr></table></figure>

<p>注意，我们不能在 <code>Person</code>类外使用 <code>name</code>，但是我们仍然可以通过 <code>Employee</code>类的实例方法访问，因为<code>Employee</code>是由 <code>Person</code>派生而来的。</p>
<h4 id="readonly-只读的"><a href="#readonly-只读的" class="headerlink" title="readonly 只读的"></a><code>readonly</code> 只读的</h4><h4 id="在参数中使用修饰符"><a href="#在参数中使用修饰符" class="headerlink" title="在参数中使用修饰符"></a>在参数中使用修饰符</h4><p>在上面的例子中，我们不得不定义一个受保护的成员 <code>name</code>和一个构造函数参数 <code>theName</code>在 <code>Person</code>类里，并且立刻给 <code>name</code>和 <code>theName</code>赋值。 这种情况经常会遇到。 <em>参数属性</em>可以方便地让我们在一个地方定义并初始化一个成员。 </p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span> </span>&#123;  	name: <span class="hljs-built_in">string</span>;  	age: <span class="hljs-built_in">number</span>;    <span class="hljs-function"><span class="hljs-title">constructor</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span>, age: <span class="hljs-built_in">number</span></span>)</span> &#123;        <span class="hljs-built_in">this</span>.name = name;        <span class="hljs-built_in">this</span>.age = age;    &#125;&#125;<br></code></pre></td></tr></table></figure>

<p>可以简写为：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span> </span>&#123;    <span class="hljs-function"><span class="hljs-title">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">public</span> name: <span class="hljs-built_in">string</span>, <span class="hljs-keyword">public</span> age: <span class="hljs-built_in">number</span></span>)</span> &#123;    &#125;&#125;<br></code></pre></td></tr></table></figure>



<h3 id="属性的存（get）取（set）器"><a href="#属性的存（get）取（set）器" class="headerlink" title="属性的存（get）取（set）器"></a>属性的存（get）取（set）器</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">let</span> passcode = <span class="hljs-string">&quot;secret passcode&quot;</span>;<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Employee</span> </span>&#123;  	<span class="hljs-comment">// 私有成员，外部无法访问    private _fullName: string;  	// 当访问 实例.fullName 的时候会调用 get 方法    get fullName(): string &#123;        return this._fullName;    &#125;  	// 当对 实例.fullName = xxx 赋值的时候会调用 set 方法    set fullName(newName: string) &#123;        if (passcode &amp;&amp; passcode == &quot;secret passcode&quot;) &#123;            this._fullName = newName;        &#125;        else &#123;            console.log(&quot;Error: Unauthorized update of employee!&quot;);        &#125;    &#125;&#125;let employee = new Employee();employee.fullName = &quot;Bob Smith&quot;;if (employee.fullName) &#123;    alert(employee.fullName);&#125;</span><br></code></pre></td></tr></table></figure>



<h3 id="静态成员"><a href="#静态成员" class="headerlink" title="静态成员"></a>静态成员</h3><ul>
<li>不需要实例化访问的成员称之为静态成员，即只能被类访问的成员</li>
<li><code>static</code> 关键字</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Grid</span> </span>&#123;    <span class="hljs-keyword">static</span> origin = &#123;<span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>&#125;;    <span class="hljs-function"><span class="hljs-title">calculateDistanceFromOrigin</span>(<span class="hljs-params">point: &#123;x: <span class="hljs-built_in">number</span>; y: <span class="hljs-built_in">number</span>;&#125;</span>)</span> &#123;        <span class="hljs-keyword">let</span> xDist = (point.x - Grid.origin.x);        <span class="hljs-keyword">let</span> yDist = (point.y - Grid.origin.y);        <span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.sqrt(xDist * xDist + yDist * yDist) / <span class="hljs-built_in">this</span>.scale;    &#125;    <span class="hljs-title">constructor</span> (<span class="hljs-params"><span class="hljs-keyword">public</span> scale: <span class="hljs-built_in">number</span></span>) &#123; &#125;&#125;<span class="hljs-keyword">let</span> grid1 = <span class="hljs-keyword">new</span> Grid(<span class="hljs-number">1.0</span>);  <span class="hljs-comment">// 1x scalelet grid2 = new Grid(5.0);  // 5x scaleconsole.log(grid1.calculateDistanceFromOrigin(&#123;x: 10, y: 10&#125;));console.log(grid2.calculateDistanceFromOrigin(&#123;x: 10, y: 10&#125;));</span><br></code></pre></td></tr></table></figure>



<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><h3 id="函数参数"><a href="#函数参数" class="headerlink" title="函数参数"></a>函数参数</h3><ul>
<li>参数及返回值类型</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">add</span>(<span class="hljs-params">x: <span class="hljs-built_in">number</span>, y: <span class="hljs-built_in">number</span></span>): <span class="hljs-title">number</span> </span>&#123;    <span class="hljs-keyword">return</span> x + y&#125;<br></code></pre></td></tr></table></figure>



<ul>
<li>可选参数</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">add</span>(<span class="hljs-params">x: <span class="hljs-built_in">number</span>, y?: <span class="hljs-built_in">number</span></span>): <span class="hljs-title">number</span> </span>&#123;    <span class="hljs-keyword">return</span> x + <span class="hljs-number">10</span>&#125;<br></code></pre></td></tr></table></figure>



<ul>
<li>默认参数</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">add</span>(<span class="hljs-params">x: <span class="hljs-built_in">number</span>, y: <span class="hljs-built_in">number</span> = <span class="hljs-number">20</span></span>): <span class="hljs-title">number</span> </span>&#123;    <span class="hljs-keyword">return</span> x + y&#125;<br></code></pre></td></tr></table></figure>



<ul>
<li>剩余参数</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sum</span>(<span class="hljs-params">...args: <span class="hljs-built_in">number</span>[]</span>): <span class="hljs-title">number</span> </span>&#123;    <span class="hljs-keyword">let</span> ret: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>    args.forEach((item: <span class="hljs-built_in">number</span>): <span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> &#123;        ret += item    &#125;)    <span class="hljs-keyword">return</span> ret&#125;sum(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>)<br></code></pre></td></tr></table></figure>



<h3 id="箭头函数"><a href="#箭头函数" class="headerlink" title="箭头函数"></a>箭头函数</h3><ul>
<li>基本示例</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">let</span> add = (x: <span class="hljs-built_in">number</span>, <span class="hljs-attr">y</span>: <span class="hljs-built_in">number</span>): <span class="hljs-function"><span class="hljs-params">number</span> =&gt;</span> x + y<br></code></pre></td></tr></table></figure>



<h2 id="for-of-循环"><a href="#for-of-循环" class="headerlink" title="for-of 循环"></a>for-of 循环</h2><ul>
<li>for 循环</li>
<li>forEach<ul>
<li>不支持 break</li>
</ul>
</li>
<li>for in<ul>
<li>会把数组当作对象来遍历</li>
</ul>
</li>
<li>for of<ul>
<li>支持 break</li>
</ul>
</li>
</ul>
<h2 id="类型推断（Type-Inference）"><a href="#类型推断（Type-Inference）" class="headerlink" title="类型推断（Type Inference）"></a>类型推断（Type Inference）</h2><h2 id="类型兼容性"><a href="#类型兼容性" class="headerlink" title="类型兼容性"></a>类型兼容性</h2><h2 id="模块"><a href="#模块" class="headerlink" title="模块"></a>模块</h2><h3 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h3><h3 id="模块通信：导出"><a href="#模块通信：导出" class="headerlink" title="模块通信：导出"></a>模块通信：导出</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> xxxexport <span class="hljs-keyword">const</span> foo: <span class="hljs-built_in">string</span> = <span class="hljs-string">&#x27;bar&#x27;</span>;<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> bar: <span class="hljs-built_in">string</span> = <span class="hljs-string">&#x27;foo&#x27;</span>;<br></code></pre></td></tr></table></figure>

<h3 id="模块通信：导入"><a href="#模块通信：导入" class="headerlink" title="模块通信：导入"></a>模块通信：导入</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-comment">// 加载默认成员import xxx from &#x27;模块标识&#x27;// 按需加载模块成员import &#123;foo, bar&#125; from &#x27;模块&#x27;</span><br></code></pre></td></tr></table></figure>

<h2 id="TypeScript-总结"><a href="#TypeScript-总结" class="headerlink" title="TypeScript 总结"></a>TypeScript 总结</h2><ul>
<li><p>TypeScript 是什么</p>
</li>
<li><p>变量声明</p>
<ul>
<li>var</li>
<li>let</li>
<li>const</li>
</ul>
</li>
<li><p>基本数据类型</p>
<ul>
<li>布尔值 <code>boolean</code></li>
<li>数字 <code>number</code></li>
<li>字符串 <code>string</code></li>
<li>数组 <code>number[]</code> 或者 <code>Array&lt;number&gt;</code></li>
<li>元祖 <code>[number, string]</code></li>
<li>对象 <code>object</code> ，了解即可</li>
<li>任意类型 <code>any</code></li>
<li>函数空返回值 <code>void</code></li>
<li><code>null</code> 和 <code>undefined</code></li>
</ul>
</li>
<li><p>接口</p>
<ul>
<li>interface</li>
</ul>
</li>
<li><p>解构赋值</p>
<ul>
<li>数组解构</li>
<li>对象解构</li>
</ul>
</li>
<li><p>展开操作符</p>
<ul>
<li>展开数组</li>
<li>展开对象</li>
</ul>
</li>
<li><p>类</p>
<ul>
<li>基本语法</li>
<li>构造函数</li>
<li>继承</li>
<li>属性修饰符</li>
<li>属性的 get 和 set</li>
</ul>
</li>
<li><p>函数</p>
<ul>
<li>参数</li>
<li>箭头函数</li>
</ul>
</li>
<li><p>for-of 循环</p>
</li>
<li><p>模块</p>
<ul>
<li>导出</li>
<li>导入</li>
</ul>
</li>
</ul>
<h1 id="组件"><a href="#组件" class="headerlink" title="组件"></a>组件</h1><p><img src="/img/webimg/angular/08a931a0-ae67-11e7-8003-dd1d9d56caa7.png" srcset="/img/loading.gif" lazyload alt="ng-component"></p>
<p>几乎所有前端框架都在玩“组件化”，而且最近都不约而同地选择了“标签化”这种思路，Angular 也不例外。</p>
<p>对新版本的 Angular 来说，一切都是围绕着“组件化”展开的，组件是 Angular 的核心概念模型。</p>
<p><img src="https://cn.vuejs.org/images/components.png" srcset="/img/loading.gif" lazyload alt="Component Tree"></p>
<h2 id="组件的定义"><a href="#组件的定义" class="headerlink" title="组件的定义"></a>组件的定义</h2><p>以下是一个最简单的 Angular 组件定义：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> &#123; Component &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@angular/core&#x27;</span>;<br><br>@Component(&#123;<br>  <span class="hljs-attr">selector</span>: <span class="hljs-string">&#x27;app-root&#x27;</span>,<br>  <span class="hljs-attr">templateUrl</span>: <span class="hljs-string">&#x27;./app.component.html&#x27;</span>,<br>  <span class="hljs-attr">styleUrls</span>: [<span class="hljs-string">&#x27;./app.component.css&#x27;</span>]<br>&#125;)<br><span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AppComponent</span> </span>&#123;<br>  title = <span class="hljs-string">&#x27;itcast&#x27;</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure>

<ul>
<li><code>@Component</code>：这是一个 Decorator（装饰器），其作用类似于 Java 里面的注解。Decorator 这个语言特性目前（2017-10）处于 Stage 2（草稿）状态，还不是 ECMA 的正式规范。</li>
<li><code>selector</code>：组件的标签名，外部使用者可以这样来使用这个组件：<app-root>。默认情况下，ng 命令生成出来的组件都会带上一个 app 前缀，如果你不喜欢，可以在 angular-cli.json 里面修改 prefix 配置项，设置为空字符串将会不带任何前缀。</app-root></li>
<li><code>templateUrl</code>：引用外部的 HTML 模板。如果你想直接编写内联模板，可以使用 template，支持 ES6 引入的<a target="_blank" rel="noopener" href="http://es6.ruanyifeng.com/#docs/string">“模板字符串”写法</a>。</li>
<li><code>styleUrls</code>：引用外部 CSS 样式文件，这是一个数组，也就意味着可以引用多份 CSS 文件。</li>
<li><code>export class AppComponent</code>：这是 ES6 里面引入的模块和 class 定义方式。</li>
</ul>
<h2 id="组件的模板"><a href="#组件的模板" class="headerlink" title="组件的模板"></a>组件的模板</h2><ul>
<li>内联模板</li>
<li>模板文件</li>
</ul>
<p>你可以在两种地方存放组件模板。 你可以使用<code>template</code>属性把它定义为<em>内联</em>的，或者把模板定义在一个独立的 HTML 文件中， 再通过<code>@Component</code>装饰器中的<code>templateUrl</code>属性， 在组件元数据中把它链接到组件。</p>
<p>无论用哪种风格，模板数据绑定在访问组件属性方面都是完全一样的。</p>
<p>具体模板语法请参考：<a href="#/template-syntax">模板语法</a></p>
<h2 id="组件通信"><a href="#组件通信" class="headerlink" title="组件通信"></a>组件通信</h2><blockquote>
<p>参考官方文档：<a target="_blank" rel="noopener" href="https://angular.io/guide/component-interaction">https://angular.io/guide/component-interaction</a></p>
</blockquote>
<p>组件就像零散的积木，我们需要把这些积木按照一定的规则拼装起来，而且要让它们互相之间能进行通讯，这样才能构成一个有机的完整系统。</p>
<p>在真实的应用中，组件最终会构成树形结构，就像人类社会中的家族树一样：</p>
<p><img src="/img/webimg/angular/891636a0-af23-11e7-b111-4d6e630f480d.png" srcset="/img/loading.gif" lazyload alt="891636a0-af23-11e7-b111-4d6e630f480d.png"></p>
<p>在树形结构里面，组件之间有几种典型的关系：父子关系、兄弟关系、没有直接关系。</p>
<p>相应地，组件之间有以下几种典型的通讯方案：</p>
<ul>
<li>直接的父子关系：父组件直接访问子组件的 public 属性和方法。</li>
<li>直接的父子关系：借助于 @Input 和 @Output 进行通讯</li>
<li>没有直接关系：借助于 Service 单例进行通讯。</li>
<li>利用 cookie 和 localstorage 进行通讯。</li>
<li>利用 session 进行通讯。</li>
</ul>
<p>无论你使用什么前端框架，组件之间的通讯都离开不以上几种方案，这些方案与具体框架无关。</p>
<h3 id="父子通信：Input-Down"><a href="#父子通信：Input-Down" class="headerlink" title="父子通信：Input Down"></a>父子通信：Input Down</h3><blockquote>
<p>参考文档：<a target="_blank" rel="noopener" href="https://angular.io/guide/component-interaction#pass-data-from-parent-to-child-with-input-binding">https://angular.io/guide/component-interaction#pass-data-from-parent-to-child-with-input-binding</a></p>
</blockquote>
<ol>
<li>父组件通过子组件标签传递属性</li>
<li>子组件在内部声明 <code>@Input</code> 接收</li>
</ol>
<ul>
<li>Input 是单向的<ul>
<li>父组件如果把数据改了，子组件也会更新</li>
<li>但是反之不会</li>
<li>有一个例外，引用类型修改</li>
</ul>
</li>
</ul>
<p>下面是一个示例：</p>
<p>子组件：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">import</span> &#123; Component, Input &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@angular/core&#x27;</span>;<br> <br><span class="hljs-keyword">import</span> &#123; Hero &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./hero&#x27;</span>;<br> <br><span class="hljs-meta">@Component</span>(&#123;<br>  <span class="hljs-attr">selector</span>: <span class="hljs-string">&#x27;app-hero-child&#x27;</span>,<br>  <span class="hljs-attr">template</span>: <span class="hljs-string">`</span><br><span class="hljs-string">    &lt;h3&gt;&#123;&#123;hero.name&#125;&#125; says:&lt;/h3&gt;</span><br><span class="hljs-string">    &lt;p&gt;I, &#123;&#123;hero.name&#125;&#125;, am at your service, &#123;&#123;masterName&#125;&#125;.&lt;/p&gt;</span><br><span class="hljs-string">  `</span><br>&#125;)<br><span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HeroChildComponent</span> </span>&#123;<br>  <span class="hljs-comment">// 声明接收父组件传递的数据</span><br>  <span class="hljs-meta">@Input</span>() hero: Hero;<br>  <span class="hljs-meta">@Input</span>(<span class="hljs-string">&#x27;master&#x27;</span>) masterName: <span class="hljs-built_in">string</span>; <span class="hljs-comment">// 接收 master 重命名为 masterName</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p>父组件：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">import</span> &#123; Component &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@angular/core&#x27;</span>;<br> <br><span class="hljs-keyword">import</span> &#123; HEROES &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./hero&#x27;</span>;<br> <br><span class="hljs-meta">@Component</span>(&#123;<br>  <span class="hljs-attr">selector</span>: <span class="hljs-string">&#x27;app-hero-parent&#x27;</span>,<br>  <span class="hljs-attr">template</span>: <span class="hljs-string">`</span><br><span class="hljs-string">    &lt;h2&gt;&#123;&#123;master&#125;&#125; controls &#123;&#123;heroes.length&#125;&#125; heroes&lt;/h2&gt;</span><br><span class="hljs-string">	&lt;!-- 在子组件标签上传递数据 --&gt;</span><br><span class="hljs-string">    &lt;app-hero-child *ngFor=&quot;let hero of heroes&quot;</span><br><span class="hljs-string">      [hero]=&quot;hero&quot;</span><br><span class="hljs-string">      [master]=&quot;master&quot;&gt;</span><br><span class="hljs-string">    &lt;/app-hero-child&gt;</span><br><span class="hljs-string">  `</span><br>&#125;)<br><span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HeroParentComponent</span> </span>&#123;<br>  heroes = HEROES;<br>  master = <span class="hljs-string">&#x27;Master&#x27;</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="父子通信：Output-Up"><a href="#父子通信：Output-Up" class="headerlink" title="父子通信：Output Up"></a>父子通信：Output Up</h3><blockquote>
<p>参考文档：<a target="_blank" rel="noopener" href="https://angular.io/guide/component-interaction#parent-listens-for-child-event">https://angular.io/guide/component-interaction#parent-listens-for-child-event</a></p>
</blockquote>
<p><code>@Output</code> 的本质是事件机制，我们可以利用它来订阅子组件上发布的事件，子组件上这样写：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">import</span> &#123; Component, EventEmitter, Input, Output &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@angular/core&#x27;</span>;<br> <br><span class="hljs-meta">@Component</span>(&#123;<br>  <span class="hljs-attr">selector</span>: <span class="hljs-string">&#x27;app-voter&#x27;</span>,<br>  <span class="hljs-attr">template</span>: <span class="hljs-string">`</span><br><span class="hljs-string">    &lt;h4&gt;&#123;&#123;name&#125;&#125;&lt;/h4&gt;</span><br><span class="hljs-string">    &lt;button (click)=&quot;vote(true)&quot;  [disabled]=&quot;voted&quot;&gt;Agree&lt;/button&gt;</span><br><span class="hljs-string">    &lt;button (click)=&quot;vote(false)&quot; [disabled]=&quot;voted&quot;&gt;Disagree&lt;/button&gt;</span><br><span class="hljs-string">  `</span><br>&#125;)<br><span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">VoterComponent</span> </span>&#123;<br>  <span class="hljs-meta">@Input</span>()  name: <span class="hljs-built_in">string</span>;<br>  <span class="hljs-meta">@Output</span>() onVoted = <span class="hljs-keyword">new</span> EventEmitter&lt;<span class="hljs-built_in">boolean</span>&gt;();<br>  voted = <span class="hljs-literal">false</span>;<br> <br>  <span class="hljs-function"><span class="hljs-title">vote</span>(<span class="hljs-params">agreed: <span class="hljs-built_in">boolean</span></span>)</span> &#123;<br>    <span class="hljs-built_in">this</span>.onVoted.emit(agreed); <span class="hljs-comment">// 传递的数据就是事件对象</span><br>    <span class="hljs-built_in">this</span>.voted = <span class="hljs-literal">true</span>;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>在父组件中订阅处理：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">import</span> &#123; Component &#125;      <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@angular/core&#x27;</span>;<br> <br><span class="hljs-meta">@Component</span>(&#123;<br>  <span class="hljs-attr">selector</span>: <span class="hljs-string">&#x27;app-vote-taker&#x27;</span>,<br>  <span class="hljs-attr">template</span>: <span class="hljs-string">`</span><br><span class="hljs-string">    &lt;h2&gt;Should mankind colonize the Universe?&lt;/h2&gt;</span><br><span class="hljs-string">    &lt;h3&gt;Agree: &#123;&#123;agreed&#125;&#125;, Disagree: &#123;&#123;disagreed&#125;&#125;&lt;/h3&gt;</span><br><span class="hljs-string">    &lt;app-voter *ngFor=&quot;let voter of voters&quot;</span><br><span class="hljs-string">      [name]=&quot;voter&quot;</span><br><span class="hljs-string">      (onVoted)=&quot;onVoted($event)&quot;&gt;</span><br><span class="hljs-string">    &lt;/app-voter&gt;</span><br><span class="hljs-string">	&lt;!-- $event在这里是自定义事件对象，接收到的是子组件内部发布事件传递的数据 --&gt;</span><br><span class="hljs-string">  `</span><br>&#125;)<br><span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">VoteTakerComponent</span> </span>&#123;<br>  agreed = <span class="hljs-number">0</span>;<br>  disagreed = <span class="hljs-number">0</span>;<br>  voters = [<span class="hljs-string">&#x27;Mr. IQ&#x27;</span>, <span class="hljs-string">&#x27;Ms. Universe&#x27;</span>, <span class="hljs-string">&#x27;Bombasto&#x27;</span>];<br> <br>  <span class="hljs-function"><span class="hljs-title">onVoted</span>(<span class="hljs-params">agreed: <span class="hljs-built_in">boolean</span></span>)</span> &#123;<br>    agreed ? <span class="hljs-built_in">this</span>.agreed++ : <span class="hljs-built_in">this</span>.disagreed++;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="父子通信：父组件直接访问子组件-public-成员"><a href="#父子通信：父组件直接访问子组件-public-成员" class="headerlink" title="父子通信：父组件直接访问子组件 public 成员"></a>父子通信：父组件直接访问子组件 public 成员</h3><blockquote>
<p>参考文档：<a target="_blank" rel="noopener" href="https://angular.io/guide/component-interaction#parent-interacts-with-child-via-local-variable">https://angular.io/guide/component-interaction#parent-interacts-with-child-via-local-variable</a></p>
</blockquote>
<p>对于有直接父子关系的组件，父组件可以直接访问子组件里面 public 型的属性和方法，示例代码片段如下：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">app-foo</span> #<span class="hljs-attr">child</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">app-foo</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">button</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">&quot;child.increment()&quot;</span>&gt;</span>调用子组件的方法<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>显然，子组件里面必须暴露一个 public 型的 childFn 方法，就像这样：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FooComponent</span> <span class="hljs-title">implements</span> <span class="hljs-title">OnInit</span> </span>&#123;<br>  <span class="hljs-keyword">public</span> message: <span class="hljs-built_in">string</span> = <span class="hljs-string">&#x27;foo message&#x27;</span><br>  <span class="hljs-keyword">public</span> count: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span><br><br>  <span class="hljs-function"><span class="hljs-title">constructor</span>(<span class="hljs-params"></span>)</span> &#123; &#125;<br><br>  <span class="hljs-keyword">public</span> increment (): <span class="hljs-built_in">void</span> &#123;<br>    <span class="hljs-built_in">this</span>.count++<br>  &#125;<br><br>  <span class="hljs-function"><span class="hljs-title">ngOnInit</span>(<span class="hljs-params"></span>)</span> &#123;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>以上是通过在模板里面定义局部变量的方式来直接调用子组件里面的 public 型方法。在父组件的内部也可以访问到子组件的实例，需要利用到 @ViewChild 装饰器，示例如下：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-meta">@ViewChild</span>(ChildComponent)<br><span class="hljs-keyword">private</span> childComponent: ChildComponent;<br></code></pre></td></tr></table></figure>

<p>关于 @ViewChild 在后面的内容里面会有更详细的解释。</p>
<p>很明显，如果父组件直接访问子组件，那么两个组件之间的关系就被固定死了。父子两个组件紧密依赖，谁也离不开谁，也就都不能单独使用了。所以，除非你知道自己在做什么，最好不要直接在父组件里面直接访问子组件上的属性和方法，以免未来一改一大片。</p>
<h3 id="没有直接关系通信：Service-单例"><a href="#没有直接关系通信：Service-单例" class="headerlink" title="没有直接关系通信：Service 单例"></a>没有直接关系通信：Service 单例</h3><blockquote>
<p>参考文档：<a target="_blank" rel="noopener" href="https://angular.io/guide/component-interaction#parent-and-children-communicate-via-a-service">https://angular.io/guide/component-interaction#parent-and-children-communicate-via-a-service</a></p>
</blockquote>
<p><img src="/img/webimg/angular/d2615600-af23-11e7-9203-4582e2e80f6b.png" srcset="/img/loading.gif" lazyload alt="d2615600-af23-11e7-9203-4582e2e80f6b.png"></p>
<h3 id="利用-Cookie-和-localStorage-进行通信"><a href="#利用-Cookie-和-localStorage-进行通信" class="headerlink" title="利用 Cookie 和 localStorage 进行通信"></a>利用 Cookie 和 localStorage 进行通信</h3><p><img src="/img/webimg/angular/e9aaf1e0-af23-11e7-b111-4d6e630f480d.png" srcset="/img/loading.gif" lazyload alt="e9aaf1e0-af23-11e7-b111-4d6e630f480d.png"></p>
<h3 id="利用-Session-进行通信"><a href="#利用-Session-进行通信" class="headerlink" title="利用 Session 进行通信"></a>利用 Session 进行通信</h3><p><img src="/img/webimg/angular/79246040-af24-11e7-b111-4d6e630f480d.png" srcset="/img/loading.gif" lazyload alt="79246040-af24-11e7-b111-4d6e630f480d.png"></p>
<h3 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h3><p>组件间的通讯方案是通用的，无论你使用什么样的前端框架，都会面临这个问题，而解决的方案无外乎本文所列出的几种。</p>
<h2 id="组件生命周期"><a href="#组件生命周期" class="headerlink" title="组件生命周期"></a>组件生命周期</h2><blockquote>
<p>参考文档：<a target="_blank" rel="noopener" href="https://angular.io/guide/lifecycle-hooks">https://angular.io/guide/lifecycle-hooks</a></p>
</blockquote>
<p><img src="/img/webimg/angular/hooks-in-sequence.png" srcset="/img/loading.gif" lazyload alt="hooks-in-sequence.png"></p>
<ul>
<li>ngOnChanges()</li>
<li>ngOnInit()<ul>
<li>只执行一次</li>
</ul>
</li>
<li>ngDoCheck()</li>
<li>ngAfterContentInit()<ul>
<li>只执行一次</li>
</ul>
</li>
<li>ngAfterContentChecked()</li>
<li>ngAfterViewInit()<ul>
<li>只执行一次</li>
</ul>
</li>
<li>ngAfterViewChecked()</li>
<li>ngOnDestroy()<ul>
<li>只执行一次</li>
</ul>
</li>
</ul>
<ul>
<li>Angular 一共暴露了8个“钩子”，构造函数不算。</li>
<li>并没有组件或者指令会实现全部钩子。</li>
<li>绿色的4个钩子可能会被执行很多次，紫色的只会执行一次。</li>
<li>Content 和 View 相关的4个钩子只对组件有效，指令上不能使用。因为在新版本的 Angular 里面，指令不能带有 HTML 模板。指令没有自己的 UI，当然就没有 View 和 Content 相关的“钩子”了。</li>
<li>请不要在生命周期钩子里面实现复杂的业务逻辑，尤其是那4个会被反复执行的钩子，否则一定会造成界面卡顿。</li>
</ul>
<h2 id="动态组件"><a href="#动态组件" class="headerlink" title="动态组件"></a>动态组件</h2><blockquote>
<p>参考文档：<a target="_blank" rel="noopener" href="https://angular.io/guide/dynamic-component-loader">https://angular.io/guide/dynamic-component-loader</a></p>
</blockquote>
<p>!&gt; <strong>注意：用代码动态创建组件这种方式在一般的业务开发里面不常用，而且可能存在一些隐藏的坑，如果你一定要用，请小心避雷。</strong></p>
<h2 id="组件内容分发"><a href="#组件内容分发" class="headerlink" title="组件内容分发"></a>组件内容分发</h2><h2 id="第三方组件库"><a href="#第三方组件库" class="headerlink" title="第三方组件库"></a>第三方组件库</h2><h1 id="模板语法"><a href="#模板语法" class="headerlink" title="模板语法"></a>模板语法</h1><p><img src="/img/webimg/angular/1200px-TempEngGen015.svg.png" srcset="/img/loading.gif" lazyload alt="1200px-TempEngGen015.svg.png"></p>
<h2 id="插值"><a href="#插值" class="headerlink" title="插值"></a>插值</h2><h3 id="文本绑定"><a href="#文本绑定" class="headerlink" title="文本绑定"></a>文本绑定</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Message: &#123;&#123; msg &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span> [<span class="hljs-attr">innerHTML</span>]=<span class="hljs-string">&quot;msg&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="属性绑定"><a href="#属性绑定" class="headerlink" title="属性绑定"></a>属性绑定</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- 写法一 --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;&#123;&#123; heroImageUrl &#125;&#125;&quot;</span>&gt;</span><br><br><span class="hljs-comment">&lt;!-- 写法二，推荐 --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">img</span> [<span class="hljs-attr">src</span>]=<span class="hljs-string">&quot;heroImageUrl&quot;</span>&gt;</span><br><br><span class="hljs-comment">&lt;!-- 写法三 --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">bind-src</span>=<span class="hljs-string">&quot;heroImageUrl&quot;</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>在布尔特性的情况下，它们的存在即暗示为 <code>true</code>，属性绑定工作起来略有不同，在这个例子中：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> [<span class="hljs-attr">disabled</span>]=<span class="hljs-string">&quot;isButtonDisabled&quot;</span>&gt;</span>Button<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>如果 <code>isButtonDisabled</code> 的值是 <code>null</code>、<code>undefined</code> 或 <code>false</code>，则 <code>disabled</code> 特性甚至不会被包含在渲染出来的 <code>&lt;button&gt;</code> 元素中。</p>
<h3 id="使用-JavaScript-表达式"><a href="#使用-JavaScript-表达式" class="headerlink" title="使用 JavaScript 表达式"></a>使用 JavaScript 表达式</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>1 + 1 = &#123;&#123; 1 + 1 &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>&#123;&#123; num + 1 &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>&#123;&#123; isDone ? &#x27;完了&#x27; : &#x27;没完&#x27; &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>&#123;&#123; title.split(&#x27;&#x27;).reverse().join(&#x27;&#x27;) &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span> [<span class="hljs-attr">title</span>]=<span class="hljs-string">&quot;title.split(&#x27;&#x27;).reverse().join(&#x27;&#x27;)&quot;</span>&gt;</span>&#123;&#123; title &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">li</span> [<span class="hljs-attr">id</span>]=<span class="hljs-string">&quot;&#x27;list-&#x27; + t.id&quot;</span> *<span class="hljs-attr">ngFor</span>=<span class="hljs-string">&quot;let t of todos&quot;</span>&gt;</span><br>    &#123;&#123; t.title &#125;&#125;<br>  <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>编写模板表达式所用的语言看起来很像 JavaScript。 很多 JavaScript 表达式也是合法的模板表达式，但不是全部。</p>
<p>Angular 遵循轻逻辑的设计思路，所以在模板引擎中不能编写非常复杂的 JavaScript 表达式，这里有一些约定：</p>
<ul>
<li>赋值 (<code>=</code>, <code>+=</code>, <code>-=</code>, …)</li>
<li><code>new</code> 运算符</li>
<li>使用 <code>;</code> 或 <code>,</code> 的链式表达式</li>
<li>自增或自减操作符 (<code>++</code>和<code>--</code>)</li>
</ul>
<h2 id="列表渲染"><a href="#列表渲染" class="headerlink" title="列表渲染"></a>列表渲染</h2><p>基本用法：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AppComponent</span> </span>&#123;<br>  heroes = [<span class="hljs-string">&#x27;Windstorm&#x27;</span>, <span class="hljs-string">&#x27;Bombasto&#x27;</span>, <span class="hljs-string">&#x27;Magneta&#x27;</span>, <span class="hljs-string">&#x27;Tornado&#x27;</span>];<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Heroes:<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">li</span> *<span class="hljs-attr">ngFor</span>=<span class="hljs-string">&quot;let hero of heroes&quot;</span>&gt;</span><br>    &#123;&#123; hero &#125;&#125;<br>  <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>也可以获取 index 索引：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> *<span class="hljs-attr">ngFor</span>=<span class="hljs-string">&quot;let hero of heroes; let i=index&quot;</span>&gt;</span>&#123;&#123;i + 1&#125;&#125; - &#123;&#123;hero.name&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure>



<h2 id="条件渲染"><a href="#条件渲染" class="headerlink" title="条件渲染"></a>条件渲染</h2><h3 id="NgIf"><a href="#NgIf" class="headerlink" title="NgIf"></a>NgIf</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> *<span class="hljs-attr">ngIf</span>=<span class="hljs-string">&quot;heroes.length &gt; 3&quot;</span>&gt;</span>There are many heroes!<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h4 id="ngIf-和-lt-ng-template-gt"><a href="#ngIf-和-lt-ng-template-gt" class="headerlink" title="ngIf 和 &lt;ng-template&gt;"></a><code>ngIf</code> 和 <code>&lt;ng-template&gt;</code></h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">ng-template</span> [<span class="hljs-attr">ngIf</span>]=<span class="hljs-string">&quot;condition&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">ng-template</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="NgSwitch"><a href="#NgSwitch" class="headerlink" title="NgSwitch"></a>NgSwitch</h3><p>NgSwitch 的语法比较啰嗦，使用频率小一些。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> [<span class="hljs-attr">ngSwitch</span>]=<span class="hljs-string">&quot;currentHero.emotion&quot;</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">app-happy-hero</span>    *<span class="hljs-attr">ngSwitchCase</span>=<span class="hljs-string">&quot;&#x27;happy&#x27;&quot;</span>    [<span class="hljs-attr">hero</span>]=<span class="hljs-string">&quot;currentHero&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">app-happy-hero</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">app-sad-hero</span>      *<span class="hljs-attr">ngSwitchCase</span>=<span class="hljs-string">&quot;&#x27;sad&#x27;&quot;</span>      [<span class="hljs-attr">hero</span>]=<span class="hljs-string">&quot;currentHero&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">app-sad-hero</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">app-confused-hero</span> *<span class="hljs-attr">ngSwitchCase</span>=<span class="hljs-string">&quot;&#x27;confused&#x27;&quot;</span> [<span class="hljs-attr">hero</span>]=<span class="hljs-string">&quot;currentHero&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">app-confused-hero</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">app-unknown-hero</span>  *<span class="hljs-attr">ngSwitchDefault</span>           [<span class="hljs-attr">hero</span>]=<span class="hljs-string">&quot;currentHero&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">app-unknown-hero</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p><img src="/img/webimg/angular/switch-anim.gif" srcset="/img/loading.gif" lazyload alt="ngswitch"></p>
<h2 id="事件处理"><a href="#事件处理" class="headerlink" title="事件处理"></a>事件处理</h2><p>事件绑定只需要用圆括号把事件名包起来即可：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">&quot;onSave()&quot;</span>&gt;</span>Save<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>可以把事件对象传递到事件处理函数中：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">&quot;onSave($event)&quot;</span>&gt;</span>On Save<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>也可以传递额外的参数（取决于你的业务）：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">&quot;onSave($event, 123)&quot;</span>&gt;</span>On Save<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>当事件处理语句比较简单的时候，我们可以内联事件处理语句：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">&quot;message = &#x27;哈哈哈&#x27;&quot;</span>&gt;</span>内联事件处理<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>我们可以利用 <strong>属性绑定 + 事件处理</strong> 的方式实现表单文本框双向绑定：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> [<span class="hljs-attr">value</span>]=<span class="hljs-string">&quot;message&quot;</span>       (<span class="hljs-attr">input</span>)=<span class="hljs-string">&quot;message=$event.target.value&quot;</span> &gt;</span><br></code></pre></td></tr></table></figure>

<p>事件绑定的另一种写法，使用 <code>on-</code> 前缀的方式：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- 绑定事件处理函数 --&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">on-click</span>=<span class="hljs-string">&quot;onSave()&quot;</span>&gt;</span>On Save<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br></code></pre></td></tr></table></figure>



<h2 id="表单输入绑定"><a href="#表单输入绑定" class="headerlink" title="表单输入绑定"></a>表单输入绑定</h2><h3 id="文本"><a href="#文本" class="headerlink" title="文本"></a>文本</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>&#123;&#123; message &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> [(<span class="hljs-attr">ngModel</span>)]=<span class="hljs-string">&quot;message&quot;</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>运行之后你会发现报错了，原因是使用 <code>ngModel</code> 必须导入 <code>FormsModule</code> 并把它添加到 Angular 模块的 <code>imports</code> 列表中。</p>
<p>导入 <code>FormsModule</code> 并让 <code>[(ngModel)]</code> 可用的代码如下：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">import</span> &#123; BrowserModule &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@angular/platform-browser&#x27;</span>;<span class="hljs-keyword">import</span> &#123; NgModule &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@angular/core&#x27;</span>;+++ <span class="hljs-keyword">import</span> &#123; FormsModule &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@angular/forms&#x27;</span>;<span class="hljs-keyword">import</span> &#123; AppComponent &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./app.component&#x27;</span>;<span class="hljs-meta">@NgModule</span>(&#123;  <span class="hljs-attr">declarations</span>: [    AppComponent  ],  <span class="hljs-attr">imports</span>: [    BrowserModule,+++ FormsModule  ],  <span class="hljs-attr">providers</span>: [],  <span class="hljs-attr">bootstrap</span>: [AppComponent]&#125;)<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AppModule</span> </span>&#123; &#125;<br></code></pre></td></tr></table></figure>

<p>通过以上的配置之后，你就可以开心的在 Angular 中使用双向数据绑定了😊。</p>
<h3 id="多行文本"><a href="#多行文本" class="headerlink" title="多行文本"></a>多行文本</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">textarea</span> <span class="hljs-attr">cols</span>=<span class="hljs-string">&quot;30&quot;</span> <span class="hljs-attr">rows</span>=<span class="hljs-string">&quot;10&quot;</span> [(<span class="hljs-attr">ngModel</span>)]=<span class="hljs-string">&quot;message&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">textarea</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="复选框"><a href="#复选框" class="headerlink" title="复选框"></a>复选框</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>单选框<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> [(<span class="hljs-attr">ngModel</span>)]=<span class="hljs-string">&quot;seen&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;box&quot;</span> *<span class="hljs-attr">ngIf</span>=<span class="hljs-string">&quot;seen&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>###单选按钮</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> [<span class="hljs-attr">value</span>]=<span class="hljs-string">&quot;0&quot;</span> [(<span class="hljs-attr">ngModel</span>)]=<span class="hljs-string">&quot;gender&quot;</span>&gt;</span> 男<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> [<span class="hljs-attr">value</span>]=<span class="hljs-string">&quot;1&quot;</span> [(<span class="hljs-attr">ngModel</span>)]=<span class="hljs-string">&quot;gender&quot;</span>&gt;</span> 女<span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>选中了：&#123;&#123; gender &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>###下拉列表 </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">select</span> [(<span class="hljs-attr">ngModel</span>)]=<span class="hljs-string">&quot;hobby&quot;</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">option</span> [<span class="hljs-attr">value</span>]=<span class="hljs-string">&quot;0&quot;</span>&gt;</span>吃饭<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">option</span> [<span class="hljs-attr">value</span>]=<span class="hljs-string">&quot;1&quot;</span>&gt;</span>睡觉<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">option</span> [<span class="hljs-attr">value</span>]=<span class="hljs-string">&quot;2&quot;</span>&gt;</span>打豆豆<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>选中的爱好：&#123;&#123; hobby &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h2 id="Class-与-Style-绑定"><a href="#Class-与-Style-绑定" class="headerlink" title="Class 与 Style 绑定"></a>Class 与 Style 绑定</h2><h3 id="Class"><a href="#Class" class="headerlink" title="Class"></a>Class</h3><ul>
<li><a target="_blank" rel="noopener" href="https://angular.io/guide/template-syntax#ngClass">https://angular.io/guide/template-syntax#ngClass</a></li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- standard class attribute setting  --&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;bad curly special&quot;</span>&gt;</span>Bad curly special<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><span class="hljs-comment">&lt;!-- reset/override all class names with a binding  --&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;bad curly special&quot;</span>     [<span class="hljs-attr">class</span>]=<span class="hljs-string">&quot;badCurly&quot;</span>&gt;</span>Bad curly<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><span class="hljs-comment">&lt;!-- toggle the &quot;special&quot; class on/off with a property --&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">div</span> [<span class="hljs-attr">class.special</span>]=<span class="hljs-string">&quot;isSpecial&quot;</span>&gt;</span>The class binding is special<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><span class="hljs-comment">&lt;!-- binding to `class.special` trumps the class attribute --&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;special&quot;</span>     [<span class="hljs-attr">class.special</span>]=<span class="hljs-string">&quot;!isSpecial&quot;</span>&gt;</span>This one is not so special<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="NgClass-指令"><a href="#NgClass-指令" class="headerlink" title="NgClass 指令"></a>NgClass 指令</h3><p><code>NgClass</code> 指令接收一个对象，对象的 <code>key</code> 指定 css 类名，value 给定一个布尔值，当布尔值为真则作用该类名，当布尔值为假则移除给类名。</p>
<p>语法规则：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> [<span class="hljs-attr">ngClass</span>]=<span class="hljs-string">&quot;&#123;  css类名: 布尔值,  css类名: 布尔值&#125;&quot;</span>&gt;</span>测试文本<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>基本示例：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.saveable</span>&#123;    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">18px</span>;&#125; <span class="hljs-selector-class">.modified</span> &#123;    <span class="hljs-attribute">font-weight</span>: bold;&#125;<span class="hljs-selector-class">.special</span>&#123;    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#ff3300</span>;&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript">currentClasses: &#123;&#125;;<span class="hljs-function"><span class="hljs-title">setCurrentClasses</span>(<span class="hljs-params"></span>)</span> &#123;  <span class="hljs-comment">// CSS classes: added/removed per current state of component properties  this.currentClasses =  &#123;    &#x27;saveable&#x27;: this.canSave,    &#x27;modified&#x27;: !this.isUnchanged,    &#x27;special&#x27;:  this.isSpecial  &#125;;&#125;</span><br></code></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> [<span class="hljs-attr">ngClass</span>]=<span class="hljs-string">&quot;currentClasses&quot;</span>&gt;</span>This div is initially saveable, unchanged, and special<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure>



<h3 id="Style"><a href="#Style" class="headerlink" title="Style"></a>Style</h3><p>通过<strong>样式绑定</strong>，可以设置内联样式。</p>
<p>样式绑定的语法与属性绑定类似。 但方括号中的部分不是元素的属性名，而由<strong>style</strong>前缀，一个点 (<code>.</code>)和 CSS 样式的属性名组成。 形如：<code>[style.style-property]</code>。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> [<span class="hljs-attr">style.color</span>]=<span class="hljs-string">&quot;isSpecial ? &#x27;red&#x27;: &#x27;green&#x27;&quot;</span>&gt;</span>Red<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><span class="hljs-comment">&lt;!-- 也可以 backgroundColor --&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">button</span> [<span class="hljs-attr">style.background-color</span>]=<span class="hljs-string">&quot;canSave ? &#x27;cyan&#x27;: &#x27;grey&#x27;&quot;</span> &gt;</span>Save<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>有些样式绑定中的样式带有单位。在这里，以根据条件用 “em” 和 “%” 来设置字体大小的单位。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> [<span class="hljs-attr">style.font-size.em</span>]=<span class="hljs-string">&quot;isSpecial ? 3 : 1&quot;</span> &gt;</span>Big<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">button</span> [<span class="hljs-attr">style.font-size.</span>%]=<span class="hljs-string">&quot;!isSpecial ? 150 : 50&quot;</span> &gt;</span>Small<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br></code></pre></td></tr></table></figure>

<blockquote>
<p>提示：<em>样式属性</em>命名方法可以用<a target="_blank" rel="noopener" href="https://angular.cn/guide/glossary#dash-case">中线命名法</a>，像上面的一样 也可以用<a target="_blank" rel="noopener" href="https://angular.cn/guide/glossary#camelcase">驼峰式命名法</a>，如<code>fontSize</code>。</p>
</blockquote>
<h3 id="NgStyle-指令"><a href="#NgStyle-指令" class="headerlink" title="NgStyle 指令"></a>NgStyle 指令</h3><p>虽然这是设置单一样式的好办法，但我们通常更喜欢使用 <a target="_blank" rel="noopener" href="https://angular.cn/guide/template-syntax#ngStyle">NgStyle指令</a> 来同时设置多个内联样式。</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript">currentStyles: &#123;&#125;;<span class="hljs-function"><span class="hljs-title">setCurrentStyles</span>(<span class="hljs-params"></span>)</span> &#123;  <span class="hljs-comment">// CSS styles: set per current state of component properties  this.currentStyles = &#123;    &#x27;font-style&#x27;:  this.canSave      ? &#x27;italic&#x27; : &#x27;normal&#x27;,    &#x27;font-weight&#x27;: !this.isUnchanged ? &#x27;bold&#x27;   : &#x27;normal&#x27;,    &#x27;font-size&#x27;:   this.isSpecial    ? &#x27;24px&#x27;   : &#x27;12px&#x27;  &#125;;&#125;</span><br></code></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> [<span class="hljs-attr">ngStyle</span>]=<span class="hljs-string">&quot;currentStyles&quot;</span>&gt;</span>  This div is initially italic, normal weight, and extra large (24px).<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>ngStyle 这种方式相当于在代码里面写 CSS 样式，比较丑陋，违反了注意点分离的原则，而且将来不太好修改，非常不建议这样写（足够简单的情况除外）。</p>
<h2 id="Angular-中的计算属性"><a href="#Angular-中的计算属性" class="headerlink" title="Angular 中的计算属性"></a>Angular 中的计算属性</h2><h2 id="模板引用变量"><a href="#模板引用变量" class="headerlink" title="模板引用变量"></a>模板引用变量</h2><p><strong>模板引用变量</strong>通常用来引用模板中的某个DOM元素，它还可以引用Angular组件或指令或<a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/Web_Components">Web Component</a>。</p>
<p>使用井号 (#) 来声明引用变量。 <code>#phone</code>的意思就是声明一个名叫<code>phone</code>的变量来引用<code>&lt;input&gt;</code>元素。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> #<span class="hljs-attr">phone</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;phone number&quot;</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>我们可以在模板中的任何地方引用模板引用变量。 比如声明在<code>&lt;input&gt;</code>上的<code>phone</code>变量就是在模板另一侧的<code>&lt;button&gt;</code>上使用的。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> #<span class="hljs-attr">phone</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;phone number&quot;</span>&gt;</span><span class="hljs-comment">&lt;!-- lots of other elements --&gt;</span><span class="hljs-comment">&lt;!-- phone refers to the input element; pass its `value` to an event handler --&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">button</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">&quot;callPhone(phone.value)&quot;</span>&gt;</span>Call<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br></code></pre></td></tr></table></figure>

<blockquote>
<p>大多数情况下，Angular会把模板引用变量的值设置为声明它的那个元素。在上面例子中，<code>phone</code> 引用的是表示<em>电话号码</em>的<code>&lt;input&gt;</code>框。 “拨号”按钮的点击事件处理器把这个<em>input</em>值传给了组件的<code>callPhone</code>方法。 不过，指令也可以修改这种行为，让这个值引用到别处，比如它自身。 <code>NgForm</code>指令就是这么做的。</p>
</blockquote>
<p>模板引用变量使用注意：</p>
<ul>
<li>模板引用变量的作用范围是<em>整个模板</em>。 不要在同一个模板中多次定义同一个变量名，否则它在运行期间的值是无法确定的。</li>
<li>如果我在模板里面定义的局部变量和组件内部的属性重名会怎么样呢<ul>
<li>如果真的出现了重名，Angular 会按照以下优先级来进行处理</li>
<li><code>模板局部变量 &gt; 指令中的同名变量 &gt; 组件中的同名属性</code></li>
</ul>
</li>
<li>我们也可以用<code>ref-</code>前缀代替<code>#</code>。 下面的例子中就用把<code>fax</code>变量声明成了<code>ref-fax</code>而不是<code>#fax</code>。</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">ref-fax</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;fax number&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">button</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">&quot;callFax(fax.value)&quot;</span>&gt;</span>Fax<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h2 id="过滤器"><a href="#过滤器" class="headerlink" title="过滤器"></a>过滤器</h2><p>在 Angular 中，过滤器也叫管道。它最重要的作用就是用来格式化数据的输出。</p>
<p>举个简单例子：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">public</span> currentTime: <span class="hljs-built_in">Date</span> = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>();<br></code></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>&#123;&#123;currentTime | date:&#x27;yyyy-MM-dd HH:mm:ss&#x27;&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>Angular 一共内置了16个过滤器：<a target="_blank" rel="noopener" href="https://angular.io/api?type=pipe%E3%80%82">https://angular.io/api?type=pipe。</a></p>
<p>在复杂业务场景中，内置的过滤器肯定是不够用的，所有 Angular 也支持自定义过滤器。</p>
<p>管道还有另外一个重要的作用就是做国际化。</p>
<h2 id="总结-1"><a href="#总结-1" class="headerlink" title="总结"></a>总结</h2><h1 id="指令"><a href="#指令" class="headerlink" title="指令"></a>指令</h1><p>在 Angular 中最常用的指令分为两种，它们分别是 <strong>属性型指令</strong> 和 <strong>结构型指令</strong>。</p>
<h2 id="NgClass"><a href="#NgClass" class="headerlink" title="NgClass"></a>NgClass</h2><ul>
<li>作用：添加或移除一组 CSS 类</li>
</ul>
<h2 id="NgStyle"><a href="#NgStyle" class="headerlink" title="NgStyle"></a>NgStyle</h2><ul>
<li>作用：添加或移除一组 CSS 样式</li>
</ul>
<h2 id="NgModel"><a href="#NgModel" class="headerlink" title="NgModel"></a>NgModel</h2><ul>
<li>作用：双向绑定到 HTML 表单元素</li>
</ul>
<h2 id="NgIf-1"><a href="#NgIf-1" class="headerlink" title="NgIf"></a>NgIf</h2><ul>
<li>作用：根据条件添加或移除 DOM</li>
<li>语法：</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;box&quot;</span> *<span class="hljs-attr">ngIf</span>=<span class="hljs-string">&quot;false&quot;</span>&gt;</span>看不见我<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure>



<p>我们也可以通过<a target="_blank" rel="noopener" href="https://angular.cn/guide/template-syntax#class-binding">类绑定</a>或<a target="_blank" rel="noopener" href="https://angular.cn/guide/template-syntax#style-binding">样式绑定</a>来显示或隐藏一个元素。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- isSpecial is true --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> [<span class="hljs-attr">class.hidden</span>]=<span class="hljs-string">&quot;!isSpecial&quot;</span>&gt;</span>Show with class<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> [<span class="hljs-attr">class.hidden</span>]=<span class="hljs-string">&quot;isSpecial&quot;</span>&gt;</span>Hide with class<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> [<span class="hljs-attr">style.display</span>]=<span class="hljs-string">&quot;isSpecial ? &#x27;block&#x27; : &#x27;none&#x27;&quot;</span>&gt;</span>Show with style<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> [<span class="hljs-attr">style.display</span>]=<span class="hljs-string">&quot;isSpecial ? &#x27;none&#x27;  : &#x27;block&#x27;&quot;</span>&gt;</span>Hide with style<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure>





<h2 id="NgSwitch-1"><a href="#NgSwitch-1" class="headerlink" title="NgSwitch"></a>NgSwitch</h2><ul>
<li>作用：类似于 JavaScript 中的 switch 语句，根据条件渲染多个选项中的一个。</li>
<li>语法：该指令包括三个相互协作的指令：<code>NgSwitch</code>、<code>NgSwitchCase</code>、<code>NgSwitchDefault</code></li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> [<span class="hljs-attr">ngSwitch</span>]=<span class="hljs-string">&quot;currentHero.emotion&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">app-happy-hero</span>    *<span class="hljs-attr">ngSwitchCase</span>=<span class="hljs-string">&quot;&#x27;happy&#x27;&quot;</span>    [<span class="hljs-attr">hero</span>]=<span class="hljs-string">&quot;currentHero&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">app-happy-hero</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">app-sad-hero</span>      *<span class="hljs-attr">ngSwitchCase</span>=<span class="hljs-string">&quot;&#x27;sad&#x27;&quot;</span>      [<span class="hljs-attr">hero</span>]=<span class="hljs-string">&quot;currentHero&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">app-sad-hero</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">app-confused-hero</span> *<span class="hljs-attr">ngSwitchCase</span>=<span class="hljs-string">&quot;&#x27;confused&#x27;&quot;</span> [<span class="hljs-attr">hero</span>]=<span class="hljs-string">&quot;currentHero&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">app-confused-hero</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">app-unknown-hero</span>  *<span class="hljs-attr">ngSwitchDefault</span>           [<span class="hljs-attr">hero</span>]=<span class="hljs-string">&quot;currentHero&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">app-unknown-hero</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure>



<h2 id="NgFor"><a href="#NgFor" class="headerlink" title="NgFor"></a>NgFor</h2><ul>
<li>作用：列表渲染</li>
<li>语法：</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> *<span class="hljs-attr">ngFor</span>=<span class="hljs-string">&quot;let hero of heroes&quot;</span>&gt;</span>&#123;&#123;hero.name&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="带索引的-ngFor"><a href="#带索引的-ngFor" class="headerlink" title="带索引的 *ngFor"></a>带索引的 <code>*ngFor</code></h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">li</span> *<span class="hljs-attr">ngFor</span>=<span class="hljs-string">&quot;let item of todos; let i = index&quot;</span>&gt;</span>&#123;&#123; item.title + i &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h2 id="自定义指令"><a href="#自定义指令" class="headerlink" title="自定义指令"></a>自定义指令</h2><blockquote>
<p>参考文档：</p>
<ul>
<li>属性型指令：<a target="_blank" rel="noopener" href="https://angular.io/guide/attribute-directives">https://angular.io/guide/attribute-directives</a></li>
<li>结构型指令：<a target="_blank" rel="noopener" href="https://angular.io/guide/structural-directives">https://angular.io/guide/structural-directives</a></li>
</ul>
</blockquote>
<h2 id="表单"><a href="#表单" class="headerlink" title="表单"></a>表单</h2><blockquote>
<p>参考文档：<a target="_blank" rel="noopener" href="https://angular.io/guide/user-input">https://angular.io/guide/user-input</a></p>
</blockquote>
<h1 id="和服务器端交互"><a href="#和服务器端交互" class="headerlink" title="和服务器端交互"></a>和服务器端交互</h1><h2 id="启用-Http-服务"><a href="#启用-Http-服务" class="headerlink" title="启用 Http 服务"></a>启用 Http 服务</h2><ul>
<li>open the root <code>AppModule</code>,</li>
<li>import the <code>HttpClientModule</code> symbol from <code>@angular/common/http</code>,</li>
<li>add it to the <code>@NgModule.imports</code> array.</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-comment">// app.module.ts:</span><br> <br><span class="hljs-keyword">import</span> &#123;NgModule&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@angular/core&#x27;</span>;<br><span class="hljs-keyword">import</span> &#123;BrowserModule&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@angular/platform-browser&#x27;</span>;<br> <br><span class="hljs-comment">// Import HttpClientModule from @angular/common/http</span><br><span class="hljs-keyword">import</span> &#123;HttpClientModule&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@angular/common/http&#x27;</span>;<br> <br><span class="hljs-meta">@NgModule</span>(&#123;<br>  <span class="hljs-attr">imports</span>: [<br>    BrowserModule,<br>    <span class="hljs-comment">// Include it under &#x27;imports&#x27; in your application module</span><br>    <span class="hljs-comment">// after BrowserModule.</span><br>    HttpClientModule,<br>  ],<br>&#125;)<br><span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyAppModule</span> </span>&#123;&#125;<br></code></pre></td></tr></table></figure>

<h2 id="发起一个-get-请求"><a href="#发起一个-get-请求" class="headerlink" title="发起一个 get 请求"></a>发起一个 get 请求</h2><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-meta">@Component</span>(...)<br><span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyComponent</span> <span class="hljs-title">implements</span> <span class="hljs-title">OnInit</span> </span>&#123;<br> <br>  <span class="hljs-attr">results</span>: <span class="hljs-built_in">string</span>[];<br> <br>  <span class="hljs-comment">// Inject HttpClient into your component or service.</span><br>  <span class="hljs-function"><span class="hljs-title">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">private</span> http: HttpClient</span>)</span> &#123;&#125;<br> <br>  ngOnInit(): <span class="hljs-built_in">void</span> &#123;<br>    <span class="hljs-comment">// Make the HTTP request:</span><br>    <span class="hljs-built_in">this</span>.http.get(<span class="hljs-string">&#x27;/api/items&#x27;</span>).subscribe(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> &#123;<br>      <span class="hljs-comment">// Read the result field from the JSON response.</span><br>      <span class="hljs-built_in">this</span>.results = data[<span class="hljs-string">&#x27;results&#x27;</span>];<br>    &#125;);<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="Reading-the-full-response"><a href="#Reading-the-full-response" class="headerlink" title="Reading the full response"></a>Reading the full response</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-built_in">this</span>.http<br>  .get(<span class="hljs-string">&#x27;https://jsonplaceholder.typicode.com/posts/1&#x27;</span>, &#123;<span class="hljs-attr">observe</span>: <span class="hljs-string">&#x27;response&#x27;</span>&#125;)<br>  .subscribe(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> &#123;<br>  <span class="hljs-built_in">console</span>.log(res)<br>&#125;)<br></code></pre></td></tr></table></figure>

<p>结果示例：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs"><br></code></pre></td></tr></table></figure>

<h2 id="错误处理"><a href="#错误处理" class="headerlink" title="错误处理"></a>错误处理</h2><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs typescript">http<br>  .get(<span class="hljs-string">&#x27;/api/items&#x27;</span>)<br>  .subscribe(<br>    <span class="hljs-comment">// Successful responses call the first callback.</span><br>    <span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> &#123;...&#125;,<br>    <span class="hljs-comment">// Errors will call this callback instead:</span><br>    <span class="hljs-function"><span class="hljs-params">err</span> =&gt;</span> &#123;<br>      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;Something went wrong!&#x27;</span>);	<br>    &#125;<br>  );<br></code></pre></td></tr></table></figure>





<h1 id="TodoMVC"><a href="#TodoMVC" class="headerlink" title="TodoMVC"></a>TodoMVC</h1><h2 id="起步-2"><a href="#起步-2" class="headerlink" title="起步"></a>起步</h2><p>下载模板：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">git clone https://github.com/tastejs/todomvc-app-template.git --depth 1<br></code></pre></td></tr></table></figure>

<p>初始化项目：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">ng new todomvc-angular<br>cd todomvc-angular<br>ng serve<br></code></pre></td></tr></table></figure>

<p>将 <code>todomvc-angular\src\app\app.component.html</code> 文件内容替换如下：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">section</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;todoapp&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">header</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;header&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>todos<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;new-todo&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;What needs to be done?&quot;</span> <span class="hljs-attr">autofocus</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">header</span>&gt;</span><br>  <span class="hljs-comment">&lt;!-- This section should be hidden by default and shown when there are todos --&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">section</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;main&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;toggle-all&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;toggle-all&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;toggle-all&quot;</span>&gt;</span>Mark all as complete<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;todo-list&quot;</span>&gt;</span><br>      <span class="hljs-comment">&lt;!-- These are here just to show the structure of the list items --&gt;</span><br>      <span class="hljs-comment">&lt;!-- List items should get the class `editing` when editing and `completed` when marked as completed --&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;completed&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;view&quot;</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;toggle&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">checked</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>Taste JavaScript<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;destroy&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;edit&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;Create a TodoMVC template&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;view&quot;</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;toggle&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>Buy a unicorn<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;destroy&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;edit&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;Rule the web&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span><br>  <span class="hljs-comment">&lt;!-- This footer should hidden by default and shown when there are todos --&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">footer</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;footer&quot;</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- This should be `0 items left` by default --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;todo-count&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">strong</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-name">strong</span>&gt;</span> item left<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- Remove this if you don&#x27;t implement routing --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;filters&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;selected&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;#/&quot;</span>&gt;</span>All<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;#/active&quot;</span>&gt;</span>Active<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;#/completed&quot;</span>&gt;</span>Completed<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- Hidden if no completed items are left ↓ --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;clear-completed&quot;</span>&gt;</span>Clear completed<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">footer</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">footer</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;info&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Double-click to edit a todo<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>  <span class="hljs-comment">&lt;!-- Remove the below line ↓ --&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Template by <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;http://sindresorhus.com&quot;</span>&gt;</span>Sindre Sorhus<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>  <span class="hljs-comment">&lt;!-- Change this out with your name and url ↓ --&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Created by <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;http://todomvc.com&quot;</span>&gt;</span>you<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Part of <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;http://todomvc.com&quot;</span>&gt;</span>TodoMVC<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">footer</span>&gt;</span><br><br></code></pre></td></tr></table></figure>

<p>安装模板依赖的样式文件：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">npm install todomvc-app-css<br></code></pre></td></tr></table></figure>

<p>在 <code>todomvc-angular\src\styles.css</code> 文件中导入样式文件：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-comment">/* You can add global styles to this file, and also import other style files */</span><br><span class="hljs-keyword">@import</span> url(<span class="hljs-string">&#x27;../node_modules/todomvc-app-css/index.css&#x27;</span>);<br></code></pre></td></tr></table></figure>

<p>看到如下页面说明成功。</p>
<p><img src="/img/webimg/angular/todomvc-angular.png" srcset="/img/loading.gif" lazyload alt="todomvc-angular"></p>
<h1 id="路由处理"><a href="#路由处理" class="headerlink" title="路由处理"></a>路由处理</h1><h2 id="基本用法"><a href="#基本用法" class="headerlink" title="基本用法"></a>基本用法</h2><ol>
<li>添加 <code>AppRoutingModule</code></li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">ng generate module app-routing --flat --module=app<br></code></pre></td></tr></table></figure>

<p><code>app-routing.module.ts</code></p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">import</span> &#123; NgModule &#125;             <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@angular/core&#x27;</span>;<br><span class="hljs-keyword">import</span> &#123; RouterModule, Routes &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@angular/router&#x27;</span>;<br><br><span class="hljs-keyword">import</span> &#123; FooComponent &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./foo/foo.component&#x27;</span><br><span class="hljs-keyword">import</span> &#123; BarComponent &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./bar/bar.component&#x27;</span><br><br><span class="hljs-keyword">const</span> routes: Routes = [<br>  &#123;<br>    <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;foo&#x27;</span>,<br>    <span class="hljs-attr">component</span>: FooComponent<br>  &#125;,<br>  &#123;<br>    <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;bar&#x27;</span>,<br>    <span class="hljs-attr">component</span>: BarComponent<br>  &#125;<br>]<br><br><span class="hljs-meta">@NgModule</span>(&#123;<br>  <span class="hljs-attr">imports</span>: [<br>    RouterModule.forRoot(routes)<br>  ],<br>  <span class="hljs-attr">exports</span>: [ RouterModule ]<br>&#125;)<br><span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AppRoutingModule</span> </span>&#123;&#125;<br><br></code></pre></td></tr></table></figure>

<p>设置路由出口：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>&#123;&#123;title&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">router-outlet</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">router-outlet</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>设置导航链接：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">routerLink</span>=<span class="hljs-string">&quot;/foo&quot;</span>&gt;</span>Go Foo<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">routerLink</span>=<span class="hljs-string">&quot;/bar&quot;</span>&gt;</span>Go Foo<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h2 id="导航链接-routerLink"><a href="#导航链接-routerLink" class="headerlink" title="导航链接 routerLink"></a>导航链接 routerLink</h2><h2 id="路由对象"><a href="#路由对象" class="headerlink" title="路由对象"></a>路由对象</h2><ul>
<li>path<ul>
<li>不能以 <code>/</code> 开头</li>
</ul>
</li>
<li>component</li>
</ul>
<p>默认路由：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">&#123; path: <span class="hljs-string">&#x27;&#x27;</span>, redirectTo: <span class="hljs-string">&#x27;/dashboard&#x27;</span>, pathMatch: <span class="hljs-string">&#x27;full&#x27;</span> &#125;,<br></code></pre></td></tr></table></figure>



<h2 id="动态路由匹配"><a href="#动态路由匹配" class="headerlink" title="动态路由匹配"></a>动态路由匹配</h2><p>动态路径配置：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">&#123; path: <span class="hljs-string">&#x27;detail/:id&#x27;</span>, component: HeroDetailComponent &#125;,<br></code></pre></td></tr></table></figure>

<p>导航链接：</p>
<figure class="highlight handlebars"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs handlebars"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> *<span class="hljs-attr">ngFor</span>=<span class="hljs-string">&quot;let hero of heroes&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;col-1-4&quot;</span></span></span><br><span class="hljs-tag"><span class="xml">    <span class="hljs-attr">routerLink</span>=<span class="hljs-string">&quot;/detail/</span></span></span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">hero.id</span>&#125;&#125;</span><span class="xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>&gt;</span></span><br></code></pre></td></tr></table></figure>

<p>在组件中解析获取动态路径参数：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">import</span> &#123; Component, OnInit &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@angular/core&#x27;</span>;<br><span class="hljs-keyword">import</span> &#123; ActivatedRoute &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@angular/router&#x27;</span>;<br><span class="hljs-keyword">import</span> &#123; Location &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@angular/common&#x27;</span>;<br><br><span class="hljs-meta">@Component</span>(&#123;<br>  <span class="hljs-attr">selector</span>: <span class="hljs-string">&#x27;app-user&#x27;</span>,<br>  <span class="hljs-attr">templateUrl</span>: <span class="hljs-string">&#x27;./user.component.html&#x27;</span>,<br>  <span class="hljs-attr">styleUrls</span>: [<span class="hljs-string">&#x27;./user.component.css&#x27;</span>]<br>&#125;)<br><span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserComponent</span> <span class="hljs-title">implements</span> <span class="hljs-title">OnInit</span> </span>&#123;<br><br>  <span class="hljs-function"><span class="hljs-title">constructor</span>(<span class="hljs-params"></span></span><br><span class="hljs-params"><span class="hljs-function">    <span class="hljs-keyword">private</span> route: ActivatedRoute,</span></span><br><span class="hljs-params"><span class="hljs-function">    <span class="hljs-keyword">private</span> location: Location</span></span><br><span class="hljs-params"><span class="hljs-function">  </span>)</span> &#123; &#125;<br><br>  <span class="hljs-function"><span class="hljs-title">ngOnInit</span>(<span class="hljs-params"></span>)</span> &#123;<br>    <span class="hljs-keyword">const</span> id = <span class="hljs-built_in">this</span>.route.snapshot.paramMap.get(<span class="hljs-string">&#x27;id&#x27;</span>)<br>    <span class="hljs-built_in">console</span>.log(id)<br>  &#125;<br><br>&#125;<br><br></code></pre></td></tr></table></figure>

<h2 id="路由导航"><a href="#路由导航" class="headerlink" title="路由导航"></a>路由导航</h2><p>后退：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-built_in">this</span>.location.back();<br></code></pre></td></tr></table></figure>





<h1 id="Angular-CLI"><a href="#Angular-CLI" class="headerlink" title="Angular CLI"></a>Angular CLI</h1><p><img src="/img/webimg/angular/illustration-home-inverted.91b07808be.png" srcset="/img/loading.gif" lazyload alt="illustration-home-inverted.91b07808be"></p>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><h2 id="依赖"><a href="#依赖" class="headerlink" title="依赖"></a>依赖</h2><ul>
<li>Node 6.9.0 or higher</li>
<li>NPM 3 or higher</li>
<li>Python</li>
<li>C++ 编译工具</li>
</ul>
<h2 id="安装-1"><a href="#安装-1" class="headerlink" title="安装"></a>安装</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">npm install -g @angular/cli<br></code></pre></td></tr></table></figure>

<h2 id="使用帮助"><a href="#使用帮助" class="headerlink" title="使用帮助"></a>使用帮助</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">ng help<br></code></pre></td></tr></table></figure>

<h2 id="初始化项目"><a href="#初始化项目" class="headerlink" title="初始化项目"></a>初始化项目</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">ng new &lt;项目名称&gt;<br></code></pre></td></tr></table></figure>

<h2 id="启动开发服务"><a href="#启动开发服务" class="headerlink" title="启动开发服务"></a>启动开发服务</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">ng serve<br></code></pre></td></tr></table></figure>

<p><code>ng serve</code> 默认占用 <code>4200</code> 端口号，可以通过下面选项配置：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">ng serve --port 4201<br></code></pre></td></tr></table></figure>

<h2 id="创建组件，指令，过滤器和服务"><a href="#创建组件，指令，过滤器和服务" class="headerlink" title="创建组件，指令，过滤器和服务"></a>创建组件，指令，过滤器和服务</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> 创建组件</span><br>ng generate component my-new-component<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> 创建组件别名</span><br>ng g component my-new-component # using the alias<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> components support relative path generation</span><br><span class="hljs-meta">#</span><span class="bash"> <span class="hljs-keyword">if</span> <span class="hljs-keyword">in</span> the directory src/app/feature/ and you run</span><br>ng g component new-cmp<br><span class="hljs-meta">#</span><span class="bash"> your component will be generated <span class="hljs-keyword">in</span> src/app/feature/new-cmp</span><br><span class="hljs-meta">#</span><span class="bash"> but <span class="hljs-keyword">if</span> you were to run</span><br>ng g component ../newer-cmp<br><span class="hljs-meta">#</span><span class="bash"> your component will be generated <span class="hljs-keyword">in</span> src/app/newer-cmp</span><br><span class="hljs-meta">#</span><span class="bash"> <span class="hljs-keyword">if</span> <span class="hljs-keyword">in</span> the directory src/app you can also run</span><br>ng g component feature/new-cmp<br><span class="hljs-meta">#</span><span class="bash"> and your component will be generated <span class="hljs-keyword">in</span> src/app/feature/new-cmp</span><br></code></pre></td></tr></table></figure>

<p>可辅助创建资源的功能列表：</p>
<table>
<thead>
<tr>
<th>Scaffold</th>
<th>Usage</th>
</tr>
</thead>
<tbody><tr>
<td><a target="_blank" rel="noopener" href="https://github.com/angular/angular-cli/wiki/generate-component">Component</a></td>
<td><code>ng g component my-new-component</code></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://github.com/angular/angular-cli/wiki/generate-directive">Directive</a></td>
<td><code>ng g directive my-new-directive</code></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://github.com/angular/angular-cli/wiki/generate-pipe">Pipe</a></td>
<td><code>ng g pipe my-new-pipe</code></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://github.com/angular/angular-cli/wiki/generate-service">Service</a></td>
<td><code>ng g service my-new-service</code></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://github.com/angular/angular-cli/wiki/generate-class">Class</a></td>
<td><code>ng g class my-new-class</code></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://github.com/angular/angular-cli/wiki/generate-guard">Guard</a></td>
<td><code>ng g guard my-new-guard</code></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://github.com/angular/angular-cli/wiki/generate-interface">Interface</a></td>
<td><code>ng g interface my-new-interface</code></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://github.com/angular/angular-cli/wiki/generate-enum">Enum</a></td>
<td><code>ng g enum my-new-enum</code></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://github.com/angular/angular-cli/wiki/generate-module">Module</a></td>
<td><code>ng g module my-module</code></td>
</tr>
</tbody></table>
<p>angular-cli will add reference to <code>components</code>, <code>directives</code> and <code>pipes</code> automatically in the <code>app.module.ts</code>. If you need to add this references to another custom module, follow this steps:</p>
<ol>
<li><code>ng g module new-module</code> to create a new module</li>
<li>call <code>ng g component new-module/new-component</code></li>
</ol>
<p>This should add the new <code>component</code>, <code>directive</code> or <code>pipe</code> reference to the <code>new-module</code> you’ve created.</p>
<h2 id="在脚手架项目中使用-SASS-预处理器"><a href="#在脚手架项目中使用-SASS-预处理器" class="headerlink" title="在脚手架项目中使用 SASS 预处理器"></a>在脚手架项目中使用 SASS 预处理器</h2><p>SASS 是一款非常好用的 CSS 预编译器，Bootstrap 官方从4.0开始已经切换到了 SASS。</p>
<p>如果想要在脚手架项目中使用 SASS 预处理器，我们需要自己手动修改一些配置文件，请按照以下步骤依次修改：</p>
<ul>
<li>angular-cli.json 里面的 styles.css 后缀改成  <code>.scss</code></li>
</ul>
<p><img src="/img/webimg/angular/1515424529111.png" srcset="/img/loading.gif" lazyload alt="1515424529111"></p>
<p>当你后面再使用 <code>ng g c ***</code> 自动创建组件的时候，默认就会生成 <code>.scss</code> 后缀的样式文件了。</p>
<ul>
<li>angular-cli.json 里面的 styleExt 改成 .scss</li>
</ul>
<p><img src="/img/webimg/angular/1515424609137.png" srcset="/img/loading.gif" lazyload alt="1515424609137"></p>
<ul>
<li>src 下面 styles.css 改成 styles.scss</li>
</ul>
<p><img src="/img/webimg/angular/1515424718388.png" srcset="/img/loading.gif" lazyload alt="1515424718388"></p>
<ul>
<li>app.component.scss</li>
</ul>
<p><img src="/img/webimg/angular/1515424763294.png" srcset="/img/loading.gif" lazyload alt="1515424763294"></p>
<ul>
<li>app.component.ts 里面对应修改</li>
</ul>
<p><img src="/img/webimg/angular/1515424806351.png" srcset="/img/loading.gif" lazyload alt="1515424806351"></p>
<p>改完之后，重新 <code>ng serve</code>，打开浏览器查看效果。</p>
<p>SASS 的 API 请参考<a target="_blank" rel="noopener" href="http://sass-lang.com/">官方网站</a> 。</p>
<p><strong>SASS 只是一个预编译器，它支持所有 CSS 原生语法。利用 SASS 可以提升你的 CSS 编码效率，增强 CSS 代码的可维护性，但是千万不要幻想从此就可以不用学习 CSS 基础知识了。</strong></p>
<h2 id="更新-Angular-CLI"><a href="#更新-Angular-CLI" class="headerlink" title="更新 Angular CLI"></a>更新 Angular CLI</h2><h2 id="其它-1"><a href="#其它-1" class="headerlink" title="其它"></a>其它</h2><h3 id="切换包管理器"><a href="#切换包管理器" class="headerlink" title="切换包管理器"></a>切换包管理器</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> 默认为 npm</span><br>ng set --global packageManager=npm<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> 将包管理器设置为 yarn</span><br>ng set --global packageManager=yarn<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> 将包管理器设置为 cnpm</span><br>ng set --global packageManager=cnpm<br></code></pre></td></tr></table></figure>

<h2 id="详细参考文档"><a href="#详细参考文档" class="headerlink" title="详细参考文档"></a>详细参考文档</h2><blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/angular/angular-cli/wiki">https://github.com/angular/angular-cli/wiki</a></p>
</blockquote>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/Web/">Web</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/Angular/">Angular</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">
                  
                    本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！
                  
                </p>
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2019/05/01/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A003-HTML&amp;CSS%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">前端学习03-HTML&CSS代码规范</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2018/01/08/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A015-React/">
                        <span class="hidden-mobile">前端学习15-React</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
              <!-- Comments -->
              <article class="comments" id="comments" lazyload>
                
                  
                
                
  <div id="gitalk-container"></div>
  <script type="text/javascript">
    Fluid.utils.loadComments('#gitalk-container', function() {
      Fluid.utils.createCssLink('/css/gitalk.css')
      Fluid.utils.createScript('https://cdn.jsdelivr.net/npm/gitalk@1.7.2/dist/gitalk.min.js', function() {
        var options = Object.assign(
          {"clientID":"fc36e17008bd1e3e898d","clientSecret":"d9d3bc7feb2b8abbb2d05b43b2d16a1d19c9bba2","repo":"cylinclinv.github.io","owner":"cylinclinv","admin":["cylinclinv"],"language":"zh-CN","labels":["Gitalk"],"perPage":10,"pagerDirection":"last","distractionFreeMode":true,"createIssueManually":true,"proxy":"https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token"},
          {
            id: 'faaabca5898df3aa3c5c588504583479'
          }
        )
        var gitalk = new Gitalk(options);
        gitalk.render('gitalk-container');
      });
    });
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


              </article>
            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>clyde</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
  </div>
  

  

  
</footer>


  <!-- SCRIPTS -->
  
  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  
    <script  src="/js/img-lazyload.js" ></script>
  



  



  <script  src="https://cdn.jsdelivr.net/npm/tocbot@4.12.3/dist/tocbot.min.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4.3.1/anchor.min.js" ></script>



  <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2.0.8/dist/clipboard.min.js" ></script>



  <script  src="/js/local-search.js" ></script>






  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
      typing(title)
      
    })(window, document);
  </script>















<!-- 主题的启动项 保持在最底部 -->
<script  src="/js/boot.js" ></script>


</body>
</html>
